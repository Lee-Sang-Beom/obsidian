``
인증 토큰(Authentication Token)과 리프레시 토큰(Refresh Token)은 사용자 인증 및 세션 관리에 사용되는 보안 토큰입니다. 이 두 토큰은 웹 애플리케이션 및 API 서버와 사용자 간의 인증 및 권한 부여를 위해 중요한 역할을 합니다.

1. **인증 토큰 (Authentication Token)**:
    - 인증 토큰은 사용자를 인증하고 해당 사용자에 대한 권한을 부여하는 데 사용됩니다.
    - 주로 웹 애플리케이션에서 로그인한 사용자에 대한 세션을 관리하거나 API 요청을 인증하는 데 사용됩니다.
    - 보통 JWT (JSON Web Token) 형식으로 표현되며, 사용자 ID, 권한, 만료 시간 등의 정보를 포함할 수 있습니다.
    - 인증 토큰은 유효 기간이 짧고, 일반적으로 한 번 사용하면 만료되는 특성을 가집니다.

2. **리프레시 토큰 (Refresh Token)**:
    - 리프레시 토큰은 주로 인증 토큰을 새로 고칠 때 (refresh) 사용됩니다. 인증 토큰의 유효 기간이 만료되었을 때, 리프레시 토큰을 사용하여 새로운 인증 토큰을 얻을 수 있습니다.
    - 리프레시 토큰은 인증 토큰의 재발급을 위해 사용되며, 일반적으로 인증 토큰보다 유효 기간이 길기 때문에 보안에 민감한 정보를 담고 있을 수 있습니다.
    - 리프레시 토큰은 일반적으로 사용자가 로그인 상태를 유지하거나 장기간 사용자를 식별하기 위해 사용됩니다.

일반적인 인증 흐름에서, 사용자는 인증되고 인증 토큰을 받게 됩니다. 이 인증 토큰은 주로 세션 유지 및 API 요청을 보내는 데 사용됩니다. 그러나 인증 토큰의 유효 기간이 만료되면 리프레시 토큰을 사용하여 새로운 인증 토큰을 얻습니다. 이렇게 함으로써 사용자는 지속적으로 로그인 상태를 유지할 수 있습니다.

보안을 위해 이러한 토큰들은 안전하게 관리되어야 하며, HTTPS와 같은 보안 프로토콜을 통해 전달되어야 합니다. 사용자의 개인 정보와 권한을 보호하기 위해 이러한 토큰을 신중하게 다루어야 합니다.

```tsx

// 사용 예시
async function getHeaders(req: NextRequest) {
  // nextauth
  const session = await getSession();
  return {
    "X-AUTH-TOKEN": session?.user.jwtAuthToken,
    Cookie: "X-REFRESH_TOKEN=" + session?.user.jwtRefreshToken,
    withCredentials: true,
  };
}

```
