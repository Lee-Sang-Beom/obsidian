#### 아이작 SNC 강의
---
- https://ijaksnc.ncs-slp.com/m/main/Login.jsp
	- tkdqja4192 / 1111(초기비번)


#### Work
---
- [x] <TabBar/> 컴포넌트 리팩토링
	1. **`checkVersionAndNavigate` 함수 추가**
	    - 버전 체크 및 네비게이션 로직을 별도 함수로 분리
	    - `useCallback`으로 감싸서 `navigate` 의존성 관리
	    - 원본의 모든 로직을 그대로 유지
	2. **`handleTabClick` 간소화**
	    - 이제 초기 검증(현재 경로 체크, 개발 환경 체크)만 수행
	    - 버전 체크가 필요한 경우 `checkVersionAndNavigate` 호출
	- 결과
		- **가독성 향상**: `handleTabClick`이 더 간결해져 흐름 파악이 쉬움
		- **재사용성**: 필요하다면 다른 곳에서도 `checkVersionAndNavigate` 사용 가능
		- **테스트 용이성**: 버전 체크 로직을 독립적으로 테스트 가능
		- **유지보수성**: 버전 체크 로직 수정 시 한 곳만 수정하면 됨

- [x] `<CacheBuster/`> 컴포넌트 리팩토링
	- 메소드별 jsDoc 주석추가
	- visibilitychange에 연결된 이벤트리스너 함수(handleVisibilityChange)에서, `import.meta.env.DEV`, `documnet.hidden`을 이용한 포그라운드 상태 및 빌드환경인경우를 조건검사할 수 있도록 추가
	- `(window as any)` → `window`로 변경 (4곳)
	    - 할당: `window.__checkAppVersion = checkVersion`
	    - 할당: `window.__refreshCacheAndReload = refreshCacheAndReload`
	    - 삭제: `delete window.__checkAppVersion`
	    - 삭제: `delete window.__refreshCacheAndReload`
	- 방어적 세미콜론 제거
	    - `;(window as any)` → `window`로 변경되면서 세미콜론 불필요
		- 방어적 세미콜론: 괄호로 시작하는 특정라인 코드는 이전줄과 합쳐져 에러(ASI 문제)가 발생할수있기때문에, 이전줄과 분리하기위해 ;를 추가
			- ASI(Automatic Semicolon Insertcion): JavaScript 엔진이 코드를 실행할 때 세미콜론이 없어도 자동으로 추가해주는 기능
			- ASI 문제: 다음 줄이 괄호, 대괄호, 백틱으로 시작하면 이전 줄과 연결될 수 있다고 판단 (함수호출, 배열 접근, 태그드 템플릿이 될 수도 있어서)

- [x] 캐시버스터 추가에 따른 TypeScript가 병합한 최종 Window 타입 검사 및 병합충돌문제 탐색
- [x] Window 인터페이스 타입 정의 통합
	- 6개 파일에 분산된 `declare global { interface Window }` 선언을 `src/types/window.d.ts`로 통합
	- 병합 대상 파일:
		- `tab-bar.tsx`: Cache Buster 관련 타입 (`__checkAppVersion`, `__refreshCacheAndReload`)
		- `use-app-apple-login.ts`: Flutter WebView 타입 (`flutter_inappwebview`)
		- `use-app-google-login.tsx`: Flutter WebView 타입 (중복)
		- `use-app-store-payment.ts`: Flutter WebView + 결제 콜백 타입 (`handlePurchaseResult`, `handleReceiptVerification`)
		- `use-google-payment.ts`: Flutter WebView + 결제 콜백 타입 (중복)
		- `use-app-audio-store.ts`: Flutter WebView + 오디오 플레이어 콜백 타입 (`onAudioStateChanged`, `onPlaylistChanged`, `onMiniPlayerClosed`, `updatePlayerState`)
	- 생성된 파일: `src/types/window.d.ts`
		- `PurchaseResult`, `PlaylistInfo` 인터페이스 정의 추가
		- Window 인터페이스 확장 (총 10개 속성)
		- JSDoc 주석으로 각 섹션 설명 추가
	- 중복 제거: `flutter_inappwebview` 5회 중복, 결제 콜백 2회 중복 해소
	- 기존 6개 파일에서 `declare global` 블록 제거

- [x] 14:30 ~ 15:00 주간회의
- [x] 17:00 ~ 18:00 캐시버스터 동작 테스트 (웹/모바일 앱 테스트)
