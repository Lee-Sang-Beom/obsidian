
# 프로젝트 : 82ALDA Podcast Service
#### Work
---
- [x] 디렉터리 구조 개선
	- `components` 내에 존재하는 `modal` 디렉터리를 모두 `modals`로 변경한 후, `pages/[route_name]` 하위로 배치
	- `hooks` 내에 존재하는 `action` 디렉터리의 이름을 `actions`로 변경 통일 
	- `features`디렉터리 생성
		- `src/features` 디렉터리 생성
		- `page` 관련 페이지 파일을 제외한 나머지 파일/디렉터리 이동작업 수행
	
	- `features` 디렉터리 제거
		- view/section 적용을 위한 롤백 진행

- [x] AI 시그널: StockInfoHeaderPresenter 리팩토링
	- StockNameSection 확장가능성을 고려하여 단일 컴포넌트 StockInfoHeader를 StockInfoHeader(컨테이너), StockInfoHeaderPresenter(표현) 로 분리
	- StockInfoHeaderPresenter의 내부 표현로직 제거: stock-name-section과 price-info-section을 호출만 하도록 변경 (기존 로직은 호출하는 

- [x] AI 시그널: 실시간 텍스트 애니메이션 로직 변경 (stock-name-section, price-display 컴포넌트)
	- isInitialRenderRef 추가
		- 초기 렌더링 여부를 추적하기 위한 ref 객체 개념 추가
		- 초기 렌더링 플래그 리셋 (첫 번째 값 세팅 이후 초기 렌더링 플래그를 false로 변경하도록 함)
	
	- prevSignalTimeRef 추가 
		- lastSignalTime이 변경되면 (새로운 시그널) 최대값 초기화되도록 구성

	- isInitialRenderRef.current에 따라 true이면 애니메이션 없이 바로 표시하도록 구성, false이면 이후 업데이트로 간주하여 애니메이션 적용


- [x] AI 시그널: 발굴 후 하락률 개념 추가
	- 시그널 응답 정보에 추가된  `maxLowPrice`와 `maxProfitSignalType` 기반 발굴 후 하락률 표시로직 추가
	- `usePostDiscoveryIncrease` hook에 `minLowPrice`, `signalType` 전달 추가
	- `calculatePostDiscoveryIncrease` 함수 개선: 
		- 예외 처리: closingPrice가 0이거나 유효하지 않은 경우
		- 매수 시그널
			- 발굴 후 상승률 
			- maxNumber 결정: liveStockInfoPrice와 maxHighPrice 중 더 높은 값 
			- ((maxNumber - closingPrice) / closingPrice) * 100
		
		- 매도 시그널
			- 발굴 후 하락률 
			- minNumber 결정: liveStockInfoPrice와 minLowPrice 중 더 낮은 값
			- ((closingPrice - minNumber) / closingPrice) * 100
			- 음수값이 나올 경우가 있으나 math.abs로 절댓값 전환 


#### Work
---
1. 리스트조회
	 - 국내: 30s 
		 - 상승률은 1m 조회
		 - 시그널 생성 시각: 09:00 ~ 15:00동안만 시그널 생성
		 - 국내 장 09:00 ~ 15:30까지임
	
	 - 해외: 30s
		 - 상승률은 1m 조회
		 - 현재는 국내 장 관계 없이 30s 단위 조회
2. 실시간 데이터 조회
	 - 국내
		 - 국내 장시간 동안 5s 단위로 조회
	
	 - 해외
		 - 24h동안 5s 단위로 조회
		 - 찾아보고 적용하면 됨 ㅇㅇ
	
	 - 비트코인
		 - 24h동안 5s 단위로 조회