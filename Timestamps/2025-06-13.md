
#### Day Planner
---
- [x] í•˜ë£¨ 1íšŒ í”„ë¡ íŠ¸ì—”ë“œ ì§€ì‹ ë° Next.js ê´€ë ¨ ê¸°ìˆ  ì •ë¦¬í•˜ê¸° (useInfinite)


#### Work
---
- [x] ì‹¤ì œ signal ë¦¬ìŠ¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” APIì— ëŒ€í•˜ì—¬ useInfinite hooks êµ¬í˜„
	- ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„
	- ì¤‘ë³µ key ì˜¤ë¥˜ í™•ì¸ ë° ìˆ˜ì • (ì¤‘ë³µëœ idê°€ ì˜¬ ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¡œ í™•ì¸ë˜ì–´ `_uniqueKey`ë¥¼ response interfaceì— ë³„ë„ ì¶”ê°€)

- [x] Shadcn-UI ë§ˆì»¤ê¸°ëŠ¥ ì¡°ì‚¬
	- Shadcn-uiê°€ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” rechartëŠ” ë§ˆì»¤ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŒ
	- ê¸°ì¡´ v0.dev í”„ë¡œí† íƒ€ì… ì½”ë“œëŠ” signalPointê°€ ìœ„ì¹˜í•  ê³³ì„ x,y ì¢Œí‘œë¡œ ì§€ì •í•´ë†“ì€ ë”ë¯¸ë°ì´í„°ë¥¼ ì œê³µí–ˆê¸° ë•Œë¬¸ì— xì¶•ì€ timeìœ¼ë¡œ, yì¶•ì€ priceë¡œ ìº”ë²„ìŠ¤ ìœ„ì¹˜ë¥¼ ì°¾ì•„ì•¼í•˜ëŠ” ìƒí™©ì— ë†“ì˜€ê³  shadcn-ui ê¸°ë°˜ ì°¨íŠ¸ëŠ” ì´ì— ì í•©í•˜ì§€ì•Šì•˜ìŒ
	- ë”°ë¼ì„œ ë‹¤ë¥¸ ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ê²Œ ë¨

- [x] chart.js, react-chartjs-2 ë¼ì´ë¸ŒëŸ¬ë¦¬
	- chart.js scale ì‹œìŠ¤í…œ í™œìš©
	- ë°ì´í„° ê°’ì„ ì‹¤ì œ í™”ë©´ í”½ì…€ ìœ„ì¹˜ë¡œ ë³€í™˜í•˜ëŠ” getPixelForValue ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€í™˜ ì‹œë„ (x,yì¶•ìœ„ì¹˜ ë³€í™˜: xì¶•ì€ ì‹œê°„ê¸°ë°˜ í•´ë‹¹ ì‹œê°„ì˜ ì¸ë±ìŠ¤ë¥¼, yì¶•ì€ ê°€ê²©ê¸°ë°˜ìœ¼ë¡œ í”½ì…€ì¢Œí‘œë¥¼ ì–»ìŒ)
	- ì¶”ê°€ì ìœ¼ë¡œ í•´ë‹¹ ì¢Œí‘œì—ëŠ” íˆ¬ëª…í•œ HTML ë²„íŠ¼ì„ ì˜¤ë²„ë ˆì´í•˜ì—¬ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ í•¨
	- signal Point customì™€ default tooltipì˜ ì´ë²¤íŠ¸ ì¶©ëŒí˜„ìƒì´ ë°œìƒ. (íš¨ìœ¨ì  ë¶„ë¦¬ëŠ” ì–´ë–»ê²Œ í•´ì•¼í•  ì§€ ê³ ë¯¼í•´ë´ì•¼ê² ì§€ë§Œ, ì¼ë‹¨ì€ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ìƒíƒœë¥¼ ì¶”ê°€í•œìƒíƒœ)
	- ì»¤ìŠ¤í…€ tooltip ì°½ì˜ ê²½ìš°, ìº”ë²„ìŠ¤ ë‚´ì—ì„œ ë™ì‘í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì¢Œìš°ì˜ì—­ì— ëŒ€í•œ viewport ì˜ë¦¼ í˜„ìƒ ë°œìƒ. í•´ë‹¹ UIì  ì˜¤ë¥˜ë¥¼ ìˆ˜ì •

### ë°±ì—… new-signal-list

```tsx
import {useCallback, useEffect, useRef} from 'react'  
import type {SignalTypeRequestEnum} from "@/pages/signal/types"  
import {useInfiniteSignals} from "@/pages/signal/hooks/use-infinite-signals.ts";  
import NewSignalCard from "@/pages/signal/_components/new/new-signal-card.tsx";  
import {MobileLoadingState} from "@/components/loading.tsx";  
  
interface SignalListProps {  
  signalType: SignalTypeRequestEnum  
  expandedCards: number[]  
  onToggleChart: (id: number) => void  
  isActive: boolean  
}  
  
export default function NewSignalList({  
                                        signalType,  
                                        expandedCards,  
                                        onToggleChart,  
                                        isActive  
                                      }: SignalListProps) {  
  const loadMoreRef = useRef<HTMLDivElement>(null)  
  
  const {  
    data: signals,  
    fetchNextPage,  
    hasNextPage,  
    isFetchingNextPage,  
    isLoading,  
    isError,  
    error,  
    refetch  
  } = useInfiniteSignals({  
    type: signalType,  
    pageSize: 10,  
    enabled: isActive,  
    autoRefresh: true  
  })  
  
  // ìë™ ë¬´í•œ ìŠ¤í¬ë¡¤ì„ ìœ„í•œ Intersection Observer  useEffect(() => {  
    const observer = new IntersectionObserver(  
      (entries) => {  
        if (entries[0].isIntersecting && hasNextPage && !isFetchingNextPage) {  
          fetchNextPage()  
        }  
      },  
      {  
        threshold: 0.1,  
        rootMargin: '100px' // 100px ë¨¼ì € íŠ¸ë¦¬ê±°í•˜ì—¬ ë” ë¶€ë“œëŸ¬ìš´ ë¡œë”©  
      }  
    )  
  
    if (loadMoreRef.current) {  
      observer.observe(loadMoreRef.current)  
    }  
  
    return () => observer.disconnect()  
  }, [hasNextPage, isFetchingNextPage, fetchNextPage])  
  
  const handleRetry = useCallback(() => {  
    refetch()  
  }, [refetch])  
  
  useEffect(() => {  
    console.log('signals is ', signals)  
  }, [signals])  
  
  // ì´ˆê¸° ë¡œë”© ìƒíƒœ  
  if (isLoading) {  
    return (  
      <div className="space-y-4">  
        <MobileLoadingState          state="loading"  
          title="ì‹œê·¸ë„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."  
          description="ìµœì‹  ì‹œê·¸ë„ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ìˆìŠµë‹ˆë‹¤."  
          size="md"  
          showAnimation={true}  
        />  
      </div>    )  
  }  
  
  // ì—ëŸ¬ ìƒíƒœ  
  if (isError) {  
    return (  
      <MobileLoadingState  
        state="error"  
        title="ë°ì´í„° ë¡œë”© ì‹¤íŒ¨"  
        description="ì‹œê·¸ë„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."  
        error={error}  
        onRetry={handleRetry}  
        onRefresh={() => window.location.reload()}  
      />  
    )  
  }  
  
  // ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš°  
  if (!signals || signals.length === 0) {  
    return (  
      <MobileLoadingState  
        state="empty"  
        title="ì‹œê·¸ë„ì´ ì—†ìŠµë‹ˆë‹¤"  
        description="í‘œì‹œí•  ì‹œê·¸ë„ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤."  
        onRefresh={handleRetry}  
        size="md"  
      />  
    )  
  }  
  
  return (  
    <div className="space-y-3">  
      {/* ì‹œê·¸ë„ ì¹´ë“œ ëª©ë¡ */}  
      {signals.map((signal) => (  
        <NewSignalCard  
          key={signal._uniqueKey}  
          signal={signal}  
          isExpanded={expandedCards.includes(signal.id)}  
          onToggleChart={() => onToggleChart(signal.id)}  
        />  
      ))}  
  
      {/* ìë™ ë¬´í•œ ìŠ¤í¬ë¡¤ ì˜ì—­ */}  
      {hasNextPage && (  
        <div ref={loadMoreRef} className="py-8">  
          {isFetchingNextPage ? (  
            // ë¡œë”© ì¤‘ ìƒíƒœ  
            <div className="flex flex-col items-center justify-center space-y-4">  
              <div className="relative">  
                {/* ë©”ì¸ ë¡œë”© ìŠ¤í”¼ë„ˆ */}  
                <div className="animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"></div>  
                {/* ì™¸ê³½ í„ìŠ¤ íš¨ê³¼ */}  
                <div className="absolute inset-0 rounded-full border border-primary/20 animate-ping"></div>  
              </div>  
              {/* ë¡œë”© í…ìŠ¤íŠ¸ */}  
              <div className="text-center">  
                <p className="text-sm font-medium text-foreground">  
                  ìƒˆë¡œìš´ ì‹œê·¸ë„ ë¡œë”© ì¤‘...  
                </p>  
                <p className="text-xs text-muted-foreground mt-1">  
                  {signals.length}ê°œ ë¡œë“œë¨  
                </p>  
              </div>  
              {/* ë¡œë”© ë„íŠ¸ ì• ë‹ˆë©”ì´ì…˜ */}  
              <div className="flex space-x-1">  
                {[0, 1, 2].map((i) => (  
                  <div  
                    key={i}  
                    className="w-2 h-2 bg-primary rounded-full animate-bounce"  
                    style={{ animationDelay: `${i * 0.1}s` }}  
                  />  
                ))}  
              </div>  
            </div>          ) : (  
            // ë¡œë”© ëŒ€ê¸° ìƒíƒœ (ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤í•˜ë©´ ìë™ìœ¼ë¡œ ë¡œë”©ë¨)  
            <div className="flex justify-center py-4">  
              <div className="flex items-center space-x-2 text-muted-foreground">  
                <div className="w-2 h-2 bg-muted-foreground/40 rounded-full animate-pulse"></div>  
                <span className="text-xs">ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ë” ë³´ê¸°</span>  
                <div className="w-2 h-2 bg-muted-foreground/40 rounded-full animate-pulse" style={{animationDelay: '0.5s'}}></div>  
              </div>            </div>          )}  
        </div>  
      )}  
  
      {/* ëª¨ë“  ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ ê²½ìš° */}  
      {!hasNextPage && signals.length > 0 && (  
        <div className="py-8">  
          <div className="flex flex-col items-center justify-center space-y-3">  
            {/* ì™„ë£Œ ì•„ì´ì½˜ */}  
            <div className="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center">  
              <svg                className="w-6 h-6 text-primary"  
                fill="none"  
                stroke="currentColor"  
                viewBox="0 0 24 24"  
              >  
                <path                  strokeLinecap="round"  
                  strokeLinejoin="round"  
                  strokeWidth={2}  
                  d="M5 13l4 4L19 7"  
                />  
              </svg>            </div>  
            {/* ì™„ë£Œ ë©”ì‹œì§€ */}  
            <div className="text-center">  
              <p className="text-sm font-medium text-foreground">  
                ğŸ‰ ëª¨ë“  ì‹œê·¸ë„ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!  
              </p>  
              <p className="text-xs text-muted-foreground mt-1">  
                ì´ {signals.length}ê°œì˜ ì‹œê·¸ë„  
              </p>  
            </div>  
            {/* êµ¬ë¶„ì„  */}  
            <div className="w-16 h-px bg-border"></div>  
          </div>        </div>      )}  
    </div>  
  )  
}
```