
#### Work (AI Assiantance 프로젝트)
---
- [x] `/src/domain` 디렉터리명에 대한 자료조사 진행
	- 적용범위: 보일러 플레이트 (Service, CMS branch), AI Assistance
    - **현재 구조 문제점**
        - 현재의 `domain/` 디렉터리 하위 파일들은 실제로 API 호출, DTO, 서비스 파일을 담고 있어 클린 아키텍처의 Domain Layer가 아닌 **Infrastructure/Adapter Layer**에 가까움
        - 클린 아키텍처에서 Domain Layer는 프레임워크와 완전히 독립적인 비즈니스 엔티티와 핵심 로직을 의미하지만, 현재 domain/ 내부의 `statistics-service.ts`, `dto.ts` 등은 외부 API에 의존적인 인프라 계층 코드임
    
    - **FSD (Feature-Sliced Design) 아키텍처**
        - FSD는 현대 프론트엔드 앱을 위해 특별히 고안된 아키텍처 방법론
        - 기술적 레이어(domain, service 등)가 아닌 비즈니스 기능(feature) 중심으로 코드를 조직화
        - 표준 레이어 구조: `app/ → pages/ → features/ → entities/ → shared/`
        - 각 레이어는 `ui/`, `model/`, `api/`, `lib/`, `config/` 등의 표준 segments로 구성
        - 상위 레이어만 하위 레이어를 import 가능한 엄격한 의존성 규칙 적용
    
    - **프론트엔드 클린 아키텍처 실전 관점**
        - React 자체가 Infrastructure Layer에 해당하므로 프론트엔드에서 완전한 클린 아키텍처 구현은 과도함
        - 비즈니스 로직이 백엔드에 있다면 프론트는 MVC 수준의 아키텍처로 충분
        - 프론트엔드의 진짜 "Domain"은 UI 상태 관리, 폼 검증, 간단한 계산 로직 정도로 매우 제한적
        - 대부분의 프론트엔드 로직은 Feature 단위로 조직화하는 것이 실용적
    
    - **디렉터리명 변경 결정**
        - `domain/` → `features/`로 변경
        - 변경 이유:
            1. **의미 명확화**: 현재 코드의 실제 역할(기능별 API 호출, 타입, 상수 관리)을 정확히 표현
            2. **업계 표준 준수**: FSD, Bulletproof React 등 현대 프론트엔드 프로젝트에서 널리 사용되는 표준 용어
            3. **혼동 방지**: 클린 아키텍처의 Domain Layer와 혼동 제거
            4. **확장성**: 향후 FSD 아키텍처로 전환 시 자연스러운 마이그레이션 경로 제공
            5. **팀 협업**: 신규 개발자 온보딩 시 즉시 이해 가능한 명확한 구조

- [x] `/src/features` 하위 각 기능별 파일명이 다른 경로의 파일과 동일하지 않도록 별도 접두사 추가

- [x] 통계(Statistics) 기능 API 통합 및 리팩토링
    - [x] 디렉터리 구조 변경 및 전체적으로 통합된 파일 분리 (표현/컨테이너 컴포넌트 전체 분리)
    - [x] 통계 DTO 타입 통합
        - `StatRequest`에 `viewType: ViewType` 필드 추가 ('GRAPH' | 'TABLE')
        - `StatRequest`에 페이징 필드 추가 (PagingRequest 확장)
        - `StatTableRequest` 제거 (StatRequest로 통합)
        - `StatSummaryDto`에서 일자별 통계 제거 (최상위로 이동)
        - `StatDailyDto` → `StatDailyApprovalsDto`로 이름 변경
        - `StatResult` 타입 추가: statSummary, dailyApprovals, pagingResult 통합 응답
        - `StatTableResult` 제거 (StatResult로 통합)
    - [x] statisticsService 통합
        - `getStatsSummary`, `getStatsTableList` 메서드 제거
        - `getStats` 단일 메서드로 통합
        - buildQueryParams, handleApiResponse 유틸 함수 적용
        - viewType에 따라 GRAPH 또는 TABLE 데이터 반환
        - 에러 처리 로직 간소화 (5줄 → 1줄)
    - [x] React Query 훅 리팩토링
        - `useStatisticsListQuery`, `useStatisticsSummaryQuery` 제거
        - `useStatisticsQuery` 단일 훅으로 통합
        - 쿼리 키 단순화: `statisticsQueryKeys.stats(request)`
        - 편의 훅 추가: `useStatisticsGraphQuery`, `useStatisticsTableQuery`
        - request 파라미터를 queryKey에 포함하여 자동 refetch 지원
    - [x] StatisticsApproveView 컴포넌트 리팩토링
        - 이중 쿼리 호출 제거 (Summary + List → 단일 통합 쿼리)
        - `tabToViewType` 헬퍼 함수 추가 (StatisticsTab → ViewType 변환)
        - `handleTabChange` 추가: 탭 변경 시 자동으로 viewType 변경 및 API 재요청
        - activeTab 변경 시 자동으로 적절한 viewType으로 네트워크 요청 발생
        - `handleSearch` 간소화: 단일 refetch로 통합
        - 페이지 초기화 로직 추가: 탭/카드 클릭 시 페이지를 1로 리셋
    - [x] StatisticsContent 관련 컴포넌트 리팩토링
        - StatisticsContentContainer: Graph/Table props 분리 → StatResult 단일 props로 통합
        - StatisticsContentPresenter: 통합된 data를 받아 activeTab에 따라 선택적 렌더링
        - StatisticsChartContainer: `StatSummaryDto` → `StatDailyApprovalsDto[]`로 props 타입 변경
        - props 전달 구조 단순화 (8개 props → 7개 props)
