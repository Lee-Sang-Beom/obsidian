
#### Work (AI Assiantance 프로젝트)
---
- [ ] 작업 필요: domain/ 디렉터리명 변경
- [ ] 작업 필요: domain/ 하위 겹치는 utils, types, dto 등등이 고유한 이름을 갖도록 변경
- [ ] 오류 수정작업 요청 필요: 검수통계 페이지 데이터 불일치문제 (카드영역과 테이블영역의 데이터가 일치하지 않음)

- [x] 통계(Statistics) 기능 API 통합 및 리팩토링
    - [x] 통계 DTO 타입 통합
        - `StatRequest`에 `viewType: ViewType` 필드 추가 ('GRAPH' | 'TABLE')
        - `StatRequest`에 페이징 필드 추가 (PagingRequest 확장)
        - `StatTableRequest` 제거 (StatRequest로 통합)
        - `StatSummaryDto`에서 일자별 통계 제거 (최상위로 이동)
        - `StatDailyDto` → `StatDailyApprovalsDto`로 이름 변경
        - `StatResult` 타입 추가: statSummary, dailyApprovals, pagingResult 통합 응답
        - `StatTableResult` 제거 (StatResult로 통합)
    - [x] statisticsService 통합
        - `getStatsSummary`, `getStatsTableList` 메서드 제거
        - `getStats` 단일 메서드로 통합
        - buildQueryParams, handleApiResponse 유틸 함수 적용
        - viewType에 따라 GRAPH 또는 TABLE 데이터 반환
        - 에러 처리 로직 간소화 (5줄 → 1줄)
    - [x] React Query 훅 리팩토링
        - `useStatisticsListQuery`, `useStatisticsSummaryQuery` 제거
        - `useStatisticsQuery` 단일 훅으로 통합
        - 쿼리 키 단순화: `statisticsQueryKeys.stats(request)`
        - 편의 훅 추가: `useStatisticsGraphQuery`, `useStatisticsTableQuery`
        - request 파라미터를 queryKey에 포함하여 자동 refetch 지원
    - [x] StatisticsApproveView 컴포넌트 리팩토링
        - 이중 쿼리 호출 제거 (Summary + List → 단일 통합 쿼리)
        - `tabToViewType` 헬퍼 함수 추가 (StatisticsTab → ViewType 변환)
        - `handleTabChange` 추가: 탭 변경 시 자동으로 viewType 변경 및 API 재요청
        - activeTab 변경 시 자동으로 적절한 viewType으로 네트워크 요청 발생
        - `handleSearch` 간소화: 단일 refetch로 통합
        - 페이지 초기화 로직 추가: 탭/카드 클릭 시 페이지를 1로 리셋
    - [x] StatisticsContent 관련 컴포넌트 리팩토링
        - StatisticsContentContainer: Graph/Table props 분리 → StatResult 단일 props로 통합
        - StatisticsContentPresenter: 통합된 data를 받아 activeTab에 따라 선택적 렌더링
        - StatisticsChartContainer: `StatSummaryDto` → `StatDailyApprovalsDto[]`로 props 타입 변경
        - props 전달 구조 단순화 (8개 props → 7개 props)
    - [x] 코드 개선 효과
        - API 호출 횟수 감소: 2번 → 1번 (Summary + List → 통합)
        - 쿼리 키 관리 간소화: 2개 키 → 1개 키
        - 불필요한 refetch 제거: 탭 변경 시 React Query 자동 처리
        - 코드 중복 제거: 유사한 쿼리 훅 통합
        - 타입 안전성 향상: ViewType 기반 자동 타입 추론