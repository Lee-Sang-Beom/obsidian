
#### Work
---
##### ※ 82ALDA Podcast Service - AI 시그널 메뉴
- [x] 종목 차트의 좌우 스와이프가 잘 작동하지 않는 문제 해결
    - 문제상황
        - 모바일 환경에서 차트를 왼쪽으로 스와이프할 때 화면이 끊기면서 그 이후 더 이상 슬라이드가 작동하지 않음
        - 왼쪽 끝으로 팬닝한 후에는 오른쪽으로 돌아가는 슬라이드가 불가능
        - 오른쪽 끝으로 팬닝할 때는 복구가 잘 되지만 왼쪽 끝만 문제 발생
    - 해결방법:
        - **원인 파악**: `ordinal: false` + `breaks` 조합이 팬닝 중 좌표 재계산 충돌을 일으킴
            - `ordinal`이란 Highcharts 시간축의 공백 처리 방식 옵션
                - `ordinal: true`: 주말/장 마감 시간 등 공백을 자동 압축 제거
                - `ordinal: false`: 시간축을 연속으로 표시, 공백도 빈 공간으로 유지
            - `breaks`는 `ordinal: false` 환경에서 특정 구간만 수동으로 압축하는 기능
            - 이전 코드는 15m, 1h에서 `ordinal: false` + `breaks`로 장 마감~개장 사이 공백 제거 시도
            - 1d에서는 `ordinal: true`로 주말 자동 압축
        - **문제 발생 메커니즘**:
            1. 팬닝 중 Highcharts가 좌표 재계산
            2. breaks 경계를 넘을 때마다 좌표 점프
            3. 실제 시간 범위와 표시 범위 불일치 발생
            4. 불일치 보정 과정에서 의도치 않은 자동 줌 트리거
            5. 왼쪽 끝에서는 breaks 경계를 여러 번 넘어 오류 누적
        - **해결 전략**: 복잡한 공백 처리 로직을 모두 제거하고 Highcharts 기본 동작만 사용
            - 모든 타임프레임(15m, 1h, 1d)에서 `ordinal`, `breaks` 옵션 제거
            - 기본 `datetime` 축만 사용하여 팬닝 안정성 확보
            - 시각적 최적화보다 사용성(팬닝 안정성)을 우선
    - 해결내용:
        - **1. `calculateBreaks` 함수 완전 삭제** (이전 코드 90-145 라인)
            - 주식 시장 거래 시간 기반 공백 구간 계산 로직 제거
            - 임계값 설정 로직 삭제:
                - 15m: 40배 = 10시간 (장 마감~개장 17.5시간 감지용)
                - 1h: 10배 = 10시간
                - 1d: 2배 = 2일 (주말 감지용)
        - **2. 타임프레임별 처리 로직 제거** (이전 코드 247-251 라인)
            - `useOrdinal`, `breaks` 변수 선언 및 계산 로직 삭제
        - **3. `xAxis` 설정 단순화**
            - `ordinal` 옵션 제거 (Highcharts 기본값 사용)
            - `breaks` 조건부 적용 로직 제거
            - 기본 `datetime` 축만 유지
        - **4. 최종 결과**
            - **변경 전**: 15m, 1h는 `ordinal: false` + `breaks`로 공백 제거, 1d는 `ordinal: true`
            - **변경 후**: 모든 타임프레임에서 기본 `datetime` 축만 사용
            - **효과**:
                - ✅ 모바일 팬닝 완벽 작동
                - ✅ 왼쪽 끝 스와이프 문제 완전 해결
                - ✅ 코드 단순화 (55라인 감소)
            - **트레이드오프**:
                - 장 마감~개장 사이, 주말 공백이 빈 공간으로 표시됨 (시각적으로 약간 비효율적)
                - 하지만 사용성(안정적인 팬닝) 확보가 우선

- [x] 리팩토링: 빈도 수 보기 추가예정으로 인한 stock-info-header 컴포넌트
	- 부모/자식 컴포넌트 형태로 세분화 진행: stock-info-header(부모), price-info-section(자식), stock-name-section(자식)
	- stock-info-header: 자식 컴포넌트 호출 및 자식 컴포넌트에서 표시할 정보의 조건 관리
	- stock-name-section: 종목 코드, 종목명, 발굴 이후 최고상승률 정보 표시, 약 60%의 좌우너비에 즐겨찾기 클릭 이벤트 연동
	- price-info-section: 현재가 및 등락률 정보 표시
	-  컨텐츠 영역에 맞춰 이벤트 영역 조정
		- 종목코드, 종목명, 발굴 이후 최고상승률 컨텐츠 너비만큼의 영역: 즐겨찾기 설정 이벤트발생
		- 가격 및 노출 빈도 수 보기 글자표시영역: 노출 빈도 조회 이벤트 발생
		- 기타 영역은 이벤트 없음


- [x] 신규 기능 개발: price-info-section 컴포넌트 
	- 빈도 수 조회용도의 아코디언 영역 생성 (chart 오픈여부는 부모 컴포넌트인 stock-info-header에서 관리)
	- 오픈 시 최대 3개월 기간의 단기/중기/장기에 대한 투자노출빈도 데이터 조회
	- 조회된 데이터는 별도 차트로 표시

- [x] 종목별 최근 시그널 개수 조회 기능 추가
	- dto, signal service, hooks 정의
	- stock-info-header에서 hooks 호출, 호출된 데이터는 해당 컴포넌트에서 차트 컴포넌트로 props로 전달하는 방법으로 개발