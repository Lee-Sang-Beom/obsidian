
1. 결재문서 상세정보 확인 api 추가
2. 
![[Pasted image 20240625135445.png]]


```json

{
	"eaDocSeq": 2, 
	"docNo": null, 
	"docTtlNm": "기안문서제목",
	"docContents" : "기안문서내용",
	"wrtrSeq": 10, 
	"wrtrNm": "user02명",
	"docStateEnu" : "PROGRESS",
	"beforeDocStateEnu" : null,
	"stateDt": "2024-06-25 15:25:16", 
	"submitDt": "2024-06-25 15:25:16",
	"eaDoctypeSeq": 2,
	"eaDocworkSeq": 4, 
	"finishDt": null,
	"approvalCommandList" : [
	{
	
		"userSeq": 10,
		"userNm" : "user02명", 
		"atrzNo" : 1,
		"atrzOpnn": "결재의견",
		"atrzStateEnu": "WAIT",
		"beforeAtrzStateEnu" : null,
		"atrzDt": null,
		"idntyYn" : "N",
		"idntyDt" : null
	}
	],
	"referenceCommandList":[
	{
	
		"userSeq": 9,
		"userNm" : "개발팀대리에서과장으로수정테스트", 
		"idntyYn" : "N",
		"idntyDt" : null
	}
	]
}
```


### gapt

#### 반려/결재취소문서 조회 (approvalStateList = RETURN, CANCEL, docStateList = RETURN, CANCEL)

```json
/api/eadoc/selEaDocapprovalMain?approvalStateList=RETURN,+CANCEL&approvalUserSeq=94&startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:12:14&docTitle=&kaptCode=A10026725&docStateList=RETURN,+CANCEL&page=0&size=10&sort=submitDt&orderBy=DESC&writerSeq=&searchDateColumn=submitDt
```

#### 결재대기문서 조회 (approvalStateList=WAIT, docStateList = PROGRESS)

```json
/api/eadoc/selEaDocapprovalMain?approvalStateList=WAIT&approvalUserSeq=94&startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:17:25&docTitle=&kaptCode=A10026725&docStateList=PROGRESS&page=0&size=10&sort=submitDt&orderBy=DESC&searchDateColumn=submitDt


/api/eadoc/selEaDocapprovalMain?approvalStateList=WAIT&approvalUserSeq=94&startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:27:47&docTitle=321&kaptCode=A10026725&docStateList=PROGRESS&page=0&size=10&sort=submitDt&orderBy=DESC&searchDateColumn=submitDt

```

#### 참조문서 조회 (참조는 api가 다르네)
```json
api/eadoc/selEaDocapprovalMainReference?eaDoctypeMainSeq=36&startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:18:01&eaDocworkMainSeq=157&docTitle=&kaptCode=A10026725&docStateList=&page=0&size=10&sort=submitDt&orderBy=DESC&searchDateColumn=submitDt&referenceUserSeq=94
```

#### 결재완료문서 조회 (docStateList = FINISH, approvalStateList = CONFIRM)

```json
api/eadoc/selEaDocapprovalMain?approvalStateList=CONFIRM&approvalUserSeq=94&startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:19:24&docTitle=&kaptCode=A10026725&docStateList=FINISH&page=0&size=10&sort=finishDt&orderBy=DESC&searchDateColumn=finishDt
```

#### 전체문서 조회 (docStateList = NULL)

```json
/api/eadoc/selEaDocapprovalMain?eaDoctypeMainSeq=35&startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:19:58&eaDocworkMainSeq=158&docTitle=&kaptCode=A10026725&docStateList=&page=0&size=10&sort=finishDt&orderBy=DESC&searchDateColumn=finishDt

기안일이면 searchDateColumn=submitDt

```

#### 진행문서 (docStateList = PROGRESS)

```json
api/eadoc/selEaDocapprovalMain?startDate=2023-06-26+11:20:57&endDate=2024-06-26+11:20:57&docTitle=&kaptCode=A10026725&docStateList=PROGRESS&page=0&size=10&sort=submitDt&orderBy=DESC&writerSeq=94&searchDateColumn=submitDt&writerList=&keyword=&approvalUserSeq=94

api/eadoc/selEaDocapprovalMain?startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:31:03&docTitle=%E3%85%85%E3%84%B7%E3%84%B4%E3%85%85&kaptCode=A10026725&docStateList=PROGRESS&page=0&size=10&sort=submitDt&orderBy=DESC&writerSeq=94&searchDateColumn=submitDt&writerList=&keyword=&approvalUserSeq=94

/api/eadoc/selEaDocapprovalMain?startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:31:03&docTitle=321&kaptCode=A10026725&docStateList=PROGRESS&page=0&size=10&sort=submitDt&orderBy=DESC&writerSeq=94&searchDateColumn=submitDt&writerList=&keyword=&approvalUserSeq=94
```

#### 완료문서 조회 (docStateList = FINISH)

```json
api/eadoc/selEaDocapprovalMain?approvalUserSeq=94&startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:21:41&docTitle=&kaptCode=A10026725&docStateList=FINISH&page=0&size=10&sort=finishDt&orderBy=DESC&writerSeq=94&searchDateColumn=finishDt

```

#### 미처리문서 조회 (docStateList = RETURN, WITHDRAW, CANCEL)

```json
api/eadoc/selEaDocapprovalMain?startDate=2024-03-26+00:00:00&endDate=2024-06-26+11:22:05&docTitle=&kaptCode=A10026725&docStateList=RETURN,+WITHDRAW,+CANCEL&page=0&size=10&sort=submitDt&orderBy=DESC&writerSeq=94&searchDateColumn=submitDt
```

#### 컨트롤러 저장

```JAVA
@Operation(summary = "전자결재문서 - 페이징 조회", description = "requestDto[SearchEaDocapprovalCommand]  responseDto[]", tags = {"전자결재문서"})  
@ApiResponse(responseCode = "200", content = @Content(schema = @Schema(implementation = EaDocapprovalResponse.class)))  
@GetMapping("/getEaDocapprovalPage")  
public ResponseEntity<?> getEaDocapprovalPage(HttpServletRequest request, @ModelAttribute SearchEaDocapprovalCommand command) throws IOException {  
  
    command = RequestUtils.readJsonFromRequest(request, SearchEaDocapprovalCommand.class);  
    Page<EaDocapprovalResponse> responses = eaDocapprovalService.selEaDocapprovalPageBySearch(command);  
    pagingSetNumber.setListNumber(responses.getContent(), responses);  
    String code = MessageEnu.OK.name();  
    String responseMsg = MessageEnu.OK.getTitle();  
    ResponseDto responseDto = null;  
  
    if (responses.getContent().isEmpty()) {  
        code = MessageEnu.NO_DATA.name();  
        responseMsg = MessageEnu.NO_DATA.getTitle();  
        responseDto = ResponseDto.builder()  
                .code(code)  
                .msg(responseMsg)  
                .build();  
    } else {  
        PagingResponse<EaDocapprovalResponse> pagingResponse = PagingResponse.<EaDocapprovalResponse>builder()  
                .content(responses.getContent())  
                .first(responses.isFirst())  
                .last(responses.isLast())  
                .number(responses.getNumber())  
                .size(responses.getSize())  
                .totalPages(responses.getTotalPages())  
                .totalElements(responses.getTotalElements())  
                .build();  
  
        responseDto = ResponseDto.builder()  
                .code(code)  
                .msg(responseMsg)  
                .data(pagingResponse)  
                .build();  
    }  
  
    return new ResponseEntity<>(responseDto, HttpStatus.OK);  
}
```