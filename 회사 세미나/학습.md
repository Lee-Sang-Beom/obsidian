
#### 학습

1. 사용자가 `http://wisdom.lksmart.co.kr`에 접속한다. (포트번호는 default 80)

2. `http://wisdom.lksmart.co.kr`에서 NAS의 리버스 프록시를 타면서, 뎁스의 사설 IP인 `10.10.10.213:13030`로 요청을 던짐
	- `10.10.10.213:13030`  === `http://wisdom.lksmart.co.kr`
	- `proxy_pass: 10.10.10.213:13030`
	- 프록시는 내부 사설 IP로 요청이 가능하다.

3. NAS의 리버스 프록시가 던진 요청을 보고, Nginx에서는  `listen:13030` 하위 리버스 프록시 구문을 한 번 더 수행한다.
	- 이 때,  `proxy_pass: 127.0.0.1:3031`으로 요청을 던진다., 이것은 현재 장치 내, 3031 포트로 요청을 전달하라는 뜻이다.
	- 그리고 이 포트번호는 Docker Container의 외부 포트번호이다.

4. Docker Container의 외부 포트로 요청이 들어오면,  해당 포트를 사용하고 있는 컨테이너와 연결 되어 있는 내부 포트를 사용하는 컨테이너 내부 서비스에 요청이 전달된다.
	- 만약, 프론트라면 내부포트가 3000인 서비스일 것이고, 이 때부터 프론트엔드 측에서 구성한 로직이 수행된다. 

```null

server{
	listen: [포트번호]
	...
}
```