
#### 1. 상속관계 매핑

- 관계형 데이터베이스에는 상속 관계가 없다.
	- 대신, 관계형 데이터베이스에는 **슈퍼타입 서브타입 관계라는 모델링 기법**이 있는데, 이게 그나마 **객체의 상속**과 유사하다.
	- 그래서, 상속관계 매핑이란 **객체의 상속구조**와 **DB의 슈퍼타입 서브타입 관계**를 **매핑**하는 것이다.
![[객체상속과 슈퍼타입서브타입관계.png]]

- 슈퍼타입 서브타입 논리 모델을 실제 모델로 구현하는 방법에는 **3가지**가 있다.
	1. **각각 테이블로 변환: 조인 전략**
		- 각 필요 데이터에 대한 테이블을 만들어놓고, 조인하는 방법이다.
		- 예시를 이해하기 위해 아래 이미지를 살펴보자. 
			- ALBUM 데이터를 추가해야 하는 상황이며, **조인 전략을 사용하여야 한다고 가정하자.**
			- 만약, 부모가 되는 ITEM 테이블의 **DTYPE이라는 필드**가 ALBUM일 때만, ALBUM과 조인해서 데이터를 가져오게 구성할 수 있지 않을까?
	![[조인전략.png]]
	2. **통합 테이블로 변환: 단일 테이블 전략**
		- 그냥 논리 모델을 한 테이블로 합쳐버리는 전략
		- 마찬가지로, DTYPE으로 ALBUM인지 MOVIE인지 등을 구별한다.
	   ![[단일 테이블 전략.png]]
	3. **서브타입 테이블로 변환: 구현 클래스마다 테이블 전략**
		- 구현 클래스마다 필요한 정보를 모두 가지고 있는 방법
		- ALBUM, MOVIE, BOOK 클래스 모두가 item이 가지고 있는 필드를 전부 가지고 있는 것이 예시이다.
	![[구현 클래스마다 테이블 전략.png]]


#### 2. 조인 전략

> `Item.java`
```java
public class Item{
	@Id @GeneratedVazlue
	private Long id;
	
	private String name;
	private int price;
}
```

> `Album.java`
```java
public class Album extends Item{
	public String artist;
}
```

> `Movie.java`
```java
public class Movie extends Item{
	public String director;
	public String actor;
	
```

> `Book.java`
```java
public class Book extends Item{
	public String author;
	public String isbn;
}
```

