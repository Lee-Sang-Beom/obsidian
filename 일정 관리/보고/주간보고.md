```javascript

(function () {

    return {

        onInit: function (j) {

            var page = this;

            var container = new Triton.Container({
                appendTo: j
            });
            var section = new Triton.Section({
                appendTo: container
            });
            new Triton.Title({
                appendTo: section,
                content: '참여기업관리',
            });


            var searchSection = new Triton.Section({
                appendTo: section
            });


            var searchPanel = new Triton.Panel({
                appendTo: searchSection,
                contentMinWidth: '900px'
            });

            var searchDetailTable = new Triton.DetailTable({
                appendTo: searchPanel,
            });

            searchDetailTable.appendRow({});
            searchDetailTable.appendKeyColumn({
                content: '업체명'
            });
            searchDetailTable.appendValueColumn({
                content: new Triton.TextInput({
                    theme: Triton.TextInput.Theme.Normal,
                    form: {name: 'companyName'},
                    value : PageManager.pc('companyName')
                })
            });

            searchDetailTable.appendKeyColumn({
                content: '사업자등록번호'
            });
            searchDetailTable.appendValueColumn({
                content: new Triton.TextInput({
                    theme: Triton.TextInput.Theme.Normal,
                    form: {name: 'companyNumber'},
                    value : PageManager.pc('companyNumber')
                })
            });


            var searchButtonSection = new Triton.ButtonSection({
                appendTo: searchPanel
            });

            searchButtonSection.appendToRight(new Triton.FlatButton({
                content: '검색 조건 초기화',
                theme: Triton.FlatButton.Theme.Normal,
                page: page,
                onClick: function (e) {

                    var item = FormatHelper.arrayKeyToUnderscore(Triton.extractFormData(page.get()));

                    for (var key in item) {
                        item[key] = '';
                    }

                    item['page'] = 1;
                    PageManager.cpcpm(item);
                }
            }));

            searchButtonSection.appendToRight(new Triton.FlatButton({
                content: '검색',
                theme: Triton.FlatButton.Theme.Normal,
                page: page,
                onClick: function (e) {

                    var page = e.data.page;
                    var item = FormatHelper.arrayKeyToUnderscore(Triton.extractFormData(page.get()));
                    item['page'] = 1;
                    PageManager.cpcpm(item);
                }
            }));

            var categorySection = page.categorySection = new Triton.Section({
                theme: Triton.Section.Theme.Category,
                appendTo: section,
                css: {'margin-top': '10px'}
            });

            page.totalCountSection = new Triton.Section({
                theme: Triton.Section.Theme.Category,
                appendTo: section,
                css: {'margin-top': '10px'}
            });



            new Triton.FlatButton({
                appendTo: categorySection,
                content: '엑셀 다운로드',
                theme: Triton.FlatButton.Theme.Normal,
                css: {'border-radius': '10px', 'float': 'right', 'margin-right': '10px'},
                page: page,
                onClick: function (e) {

                    var page = e.data.page;

                    AjaxPopupManager.show(PopupUrl.EXPORT_DOWNLOAD_PROGRESS, {
                        url: ProjectApiUrl.Excel.GET_INDUSTRY_ACADEMIA_MANAGE_COMPANY_EXCEL_DOWNLOAD,
                        requestMap: {companyName: PageManager.pc('company_name'),companyNumber: PageManager.pc('company_number')}
                    });


                }
            });

            new Triton.FlatButton({
                appendTo: categorySection,
                content: '엑셀 업로드',
                theme: Triton.FlatButton.Theme.Normal,
                css: {'border-radius': '10px', 'float': 'right', 'margin-right': '10px'},
                page: page,
                onClick: function (e) {

                    var page = e.data.page;

                    AjaxPopupManager.show(PopupUrl.REGISTER_EXCEL, {
                        parameterMap: {
                            courseId: page.courseId,
                        },
                        title: '엑셀 업로드',
                        uploadUrl: ProjectApiUrl.Excel.IMPORT_INDUSTRY_ACADEMIA_MANAGE_COMPANY,
                        templateUrl : ProjectApiUrl.Excel.GET_INDUSTRY_ACADEMIA_MANAGE_COMPANY_EXCEL_IMPORT_TEMPLATE,

                        onCompleted: function () {
                            Lia.refresh();
                        }
                    }, {});
                }
            });

            new Triton.FlatButton({
                appendTo: categorySection,
                theme : Triton.FlatButton.Theme.Header,
                css: {'border-radius': '10px', 'float': 'right', 'margin-right': '10px'},
                content: '추가',
                page : page,
                onClick: function (e) {
                    var page = e.data.page;
                    AjaxPopupManager.show(ProjectPopupUrl.INDUSTRY_ACADEMIA_MANAGE_COMPANY_DETAIL_POPUP, {
                        onCompleted: function (options) {
                            page.onChange();
                        }
                    });

                }
            });

            page.contentSection = new Triton.Section({
                appendTo: section
            });
        },
        onChange: function (jPage, jPageContainer, i, parameterMap, beforeParameterMap) {

            var page = this;

            var map = FormatHelper.arrayKeyToCamel(Triton.extractFormData(page.get()));

            map['page'] = Lia.pd(1, parameterMap, 'page');
            map['count'] = Lia.pd(20, parameterMap, 'count');
            map['companyName'] = PageManager.pc('company_name');
            map['companyNumber'] = PageManager.pc('company_number')

            LoadingPopupManager.show();

            Requester.awb(ProjectApiUrl.Project.GET_INDUSTRY_ACADEMIA_MANAGE_COMPANY, map, function (status, data, request) {

                LoadingPopupManager.hide();

                page.contentSection.empty();

                if (status != Requester.Status.SUCCESS) {
                    return;
                }

                var panel = new Triton.Panel({
                    appendTo: page.contentSection
                });

                var listTable = new Triton.ListTable({
                    appendTo: panel
                });

                listTable.appendHeaderRow({});
                listTable.appendHeaderColumn({
                    css: {width: '60px'},
                    content: new Triton.CheckBox({
                        addClass: 'industry_academia_manage_company_header_check_box',
                        listTable: listTable,
                        onChecked: function (value) {

                            var jThis = $(this);

                            var triton = jThis.getTriton();
                            var options = triton.getOptions();

                            var listTable = Lia.p(options, 'listTable');

                            var jCheckBox = listTable.find('.industry_academia_manage_company_check_box');

                            for (var i = 0, l = jCheckBox.length; i < l; i++) {
                                jCheckBox.eq(i).getTriton().setValue(value, true);
                            }
                        }
                    })
                })
                listTable.appendHeaderColumn({content: '연번'});
                listTable.appendHeaderColumn({content: '업체명'});
                listTable.appendHeaderColumn({content: '대표'});
                listTable.appendHeaderColumn({content: '사업자등록번호'});
                listTable.appendHeaderColumn({content: '주소'});
                listTable.appendHeaderColumn({content: '홈페이지'});

                var listCount = PageManager.pcd(20, 'count');
                var list = page.list = Lia.p(data, 'body', 'list');

                if (list == undefined || list.length <= 0) {
                    listTable.appendRow({theme: Triton.ListTable.Row.Theme.NoLink});
                    listTable.appendColumn({
                        attr: {'colspan': '10'},
                        content: '산학협력 기업 정보 관리 검색 결과가 없습니다.',
                        css: {'line-height': '300px'}
                    })
                    return;
                }

                for (var idx in list) {

                    var item = list[idx];

                    listTable.appendRow({
                        theme: Triton.ListTable.Row.Theme.Normal,
                        item: item,
                        onClick: function (e) {
                            AjaxPopupManager.show(ProjectPopupUrl.INDUSTRY_ACADEMIA_MANAGE_COMPANY_DETAIL_POPUP, {
                                id: Lia.p(item, 'id'),
                                item : e.data.item,
                                onCompleted: function (options) {
                                    page.onChange();
                                }
                            });
                        }
                    });
                    listTable.appendColumn({
                        content :  new Triton.CheckBox({
                            addClass: 'industry_academia_manage_company_check_box',
                            listTable: listTable,
                            onChecked: function (val) {

                                var jThis = $(this);
                                var triton = jThis.getTriton();
                                var options = triton.getOptions();
                                var listTable = Lia.p(options, 'listTable');

                                var checked = true;
                                var jCheckBox = listTable.find('.industry_academia_manage_company_check_box');
                                var l = jCheckBox.length;
                                if (l == 0) {
                                    checked = false;
                                } else {

                                    for (var i = 0; i < l; i++) {

                                        if (!jCheckBox.eq(i).getTriton().getPressed()) {
                                            checked = false;
                                            break;
                                        }
                                    }
                                }

                                var jHeaderCheckBox = listTable.find('.industry_academia_manage_company_header_check_box');
                                jHeaderCheckBox.getTriton().setPressed(checked, true);
                            }
                        })
                    })
                    listTable.appendColumn({content: Lia.pd('-', item, 'row_number')});
                    listTable.appendColumn({content: Lia.pd('-', item, 'name')});
                    listTable.appendColumn({content: Lia.pd('-', item, 'ceo_name')});
                    listTable.appendColumn({content: Lia.pd('-', item, 'business_registration_number')});
                    listTable.appendColumn({content: Lia.pd('-', item, 'address')});
                    listTable.appendColumn({content: Lia.pd('-', item, 'homepage_url')});
                }

                var pagerSection = new Triton.Section({
                    appendTo: page.contentSection,
                    theme: Triton.Section.Theme.Pager
                });

                new Triton.Pager({
                    appendTo: pagerSection,
                    'pageNumber': Lia.p(request, 'parameterMap', 'page'),
                    'countPerPage': Lia.p(request, 'parameterMap', 'count'),
                    'totalCount': page.responseTotalCount = Lia.p(data, 'body', 'total_count'),
                    'onPageSelected': function (pageNumber) {
                        PageManager.goCurrentPageWithCurrentParameterMap({page: pageNumber});
                    }
                });
            });
        },

        onRelease: function (j) {
        }
    };
})();

```