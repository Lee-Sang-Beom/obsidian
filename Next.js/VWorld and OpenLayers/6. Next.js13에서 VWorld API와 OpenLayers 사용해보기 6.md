
#### 1. 특정 Layer 스위치 기능 추가하기

- 지도 사용 중, 피해 종류에 따라 범위 표시를 `ON/OFF`하는 스위치 기능이 필요해졌다.
	- `state`를 `boolean` 방식으로 관리하고, 이를 `toggle`하는 아이디어로 진행하였다.
	
- 만들 기능은 아래와 같다.
	- 화재 피해 `(fireDmgeSwich state)`
	- 폭발 피해 `(explDmgeSwitch state)`
	- 누출 피해 `(dfsnDmgeSwitch state)`

- 구현 결과 이미지는 아래와 같다. (노란색 원인 폭발 피해에 대한 `layer`가 사라졌다가 생겼다가 한다.)
![[Pasted image 20240326161954.png]]
![[Pasted image 20240326162008.png]]


#### 2. `<MapSwitch/>` 컴포넌트 구현하기

#### 2-1. `props`

- 컨트롤해야하는 `boolean type`의 `state, Dispatch<SetStateAction<boolean>>` 각각을 `props` 로 전달한다.
- 또한, 입력 단계에서 선택한 요소에 따라 아예 `switch button`이 없어야 하는 경우도 있기 때문에 `res data`도 전달해야 한다.

```tsx
{simulationRes && (
  <MapSwitch
	map={map}
	simulationRes={simulationRes}
	fireDmgeSwitch={fireDmgeSwitch}
	explDmgeSwitch={explDmgeSwitch}
	dfsnDmgeSwitch={dfsnDmgeSwitch}
	setFireDmgeSwitch={setFireDmgeSwitch}
	setExplDmgeSwitch={setExplDmgeSwitch}
	setDfsnDmgeSwitch={setDfsnDmgeSwitch}
  />
)}
```
```tsx
interface MapSwitchType {
  simulationRes: SimulateResultResponse | undefined;
  fireDmgeSwitch: boolean;
  setFireDmgeSwitch: Dispatch<SetStateAction<boolean>>;
  explDmgeSwitch: boolean;
  setExplDmgeSwitch: Dispatch<SetStateAction<boolean>>;
  dfsnDmgeSwitch: boolean;
  setDfsnDmgeSwitch: Dispatch<SetStateAction<boolean>>;
}

export default function MapSwitch({
  simulationRes,
  fireDmgeSwitch,
  explDmgeSwitch,
  dfsnDmgeSwitch,

  setFireDmgeSwitch,
  setExplDmgeSwitch,
  setDfsnDmgeSwitch,
}: MapSwitchType) {
  return (
  {/* ... */}
  )
}
```

#### 2-2. 필요 `state`

- 필요 `state`는 아래와 같다.
	- 현재 각 `Layer`가 보여질지를 관리하는 `state`인 `fireDmgeSwitch, explDmgeSwitch, dfsnDmgeSwitch`
		- 이는 부모에서 전달된다 `(props drilling)`

#### 2-3. 동작