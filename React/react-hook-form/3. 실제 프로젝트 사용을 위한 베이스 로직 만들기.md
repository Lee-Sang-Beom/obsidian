
#### 1. 포맷팅 함수 : `insertFormatToString(), removeFormatToString()`

- 포맷팅의 예시는 아래와 같다.
	1. 전화번호 : 문자열 중간에 `- (하이픈)` 추가
	2. 금액과 같은 수치 : 문자열 중간에 `, (콤마)` 추가
	3. 날짜 : 문자열 중간에 `- (하이픈)` 추가

###### ※`insertFormatToString()`
- 그래서, 문자열과 문자열 타입 등을 전달하면 포맷팅된 데이터가 반환될 수 있게끔 함수를 만들어보았다.

```tsx
/**
 * @insertFormatToString : TYPE에 따라 적절한 위치에 하이픈(-)을 넣은 새로운 문자열을 반환하는 함수
 *
 * @type : 사업자등록번호(BRNO), 전화번호(TELNO), 날짜(DATE), 일반적인 숫자(NUMBER)
 * @baseString : 변경을 원하는 기존 문자열
 * @incomingMomentDateType : moment 라이브러리에서 baseString이 어떤 타입의 날짜 형식을 가지고 있는 상태인지를 알려주는 포맷
 * @outcomingMomentDateType : moment 라이브러리에서 baseString이 어떤 타입의 날짜 형식을 리턴해야하는지를 알려주는 포맷
 */
export function insertFormatToString(
  type: "BRNO" | "TEL_NO" | "DATE" | "NUMBER",
  baseString: string | number | Date | null | undefined,
  incomingMomentDateType?: string,
  outcomingMomentDateType?: string
) {
  // 예상치 못한 값인 경우 빈 문자열 반환
  if (!baseString) {
    return "";
  }

  // 이미 하이픈(-)이 존재하면 전부 빼버림
  let resultString = baseString.toString().replaceAll("-", "");
  const incomingDateType = incomingMomentDateType || undefined;
  const outcomingDateType = outcomingMomentDateType || "YYYY-MM-DD";

  switch (type) {
    case "BRNO":
      resultString = resultString.replace(/(\d{3})(\d{2})(\d{5})/, "$1-$2-$3");
      break;

    case "TEL_NO":
      resultString = resultString.replace(
        /(\d{2,3})(\d{3,4})(\d{4})/,
        "$1-$2-$3"
      );
      break;

    case "DATE":
      /**
       * 1. incomingDateType이 boolean으로 false에 치환되는 값이라면 일반 Date객체를 대상으로 변환되게끔 구성
       *
       * 2. 만약, 지정한 incomingDateType이 따로 존재하면 그에 따른 패턴으로 string값을 읽어들임
       */
      resultString = incomingDateType
        ? moment(resultString, incomingDateType).format(outcomingDateType)
        : moment(resultString).format(outcomingDateType);
      break;

    case "NUMBER":
      resultString = resultString.toString().replace(addCommaRegex, ",");
    default:
      break;
  }

  return resultString;
}
```

###### ※`removeFormatToString()`
- 포맷팅을 진행하는 함수가 있다면, 포맷팅된 별도 요소를 제거한 문자열을 반환하는 함수도 필요하다고 생각했다.
- 그래서 만든 함수가 `removeForamtToString()`이다.

```tsx
/**
 * @removeFormatToString : 포맷팅된 별도 요소를 빼버리는 함수 (빈 문자열이면 빈 문자열 반환)
 *
 * @type : 사업자등록번호(BRNO), 전화번호(TELNO), 날짜(DATE), 일반적인 숫자(NUMBER)
 * @baseString : 변경을 원하는 기존 문자열
 */
export function removeFormatToString(
  type: "BRNO" | "TEL_NO" | "DATE" | "NUMBER",
  baseString: string | number | Date | null | undefined
) {
  // 예상치 못한 값이거나 빈 문자열인 경우 빈 문자열 반환
  if (!baseString || baseString.toString().length <= 0) {
    return "";
  } else {
    let resultString = baseString.toString();

    switch (type) {
      case "BRNO":
      case "TEL_NO":
      case "DATE":
        resultString = baseString
          .toString()
          .replace(/-/g, "")
          .replace(/[^0-9]/g, "");
        break;

      case "NUMBER":
        resultString = resultString.toString().replace(/,/g, "");

      default:
        break;
    }

    return resultString;
  }
}
```


#### 2. react-hook-form의 register option 반환 함수 

- Form 필드가 무엇을 입력하는지에 따라, 유효성 검증이 까다로워질 수 있다.
	- 또한, 입력할 때마다 문자열에 포맷팅을 진행해주어야하면, 포맷팅된 결과까지 고려하여 유효성을 체크해주어야 하는 등의 귀찮은 일이 발생할 수 있다.

- 많은 개발자가 진행하는 프로젝트에서는, 개발자 각각의 방식에 따라 각 페이지별로 코드가 작성되기 때문에 최대한 로직 구성을 일치시키기 위해서는 함수를 통한 반환을 많이 사용하도록 유도하는 것이 중요하다고 생각했다.
	- 따라서, 많이 사용되는 성격의 Form 필드에 대해 `register option` 객체를 반환하는 함수들을 만들었다.
	- 대상 필드는 이메일, 전화번호(지역, 휴대폰, 공통), 패스워드, 패스워드 확인, 사업자 등록번호, 
