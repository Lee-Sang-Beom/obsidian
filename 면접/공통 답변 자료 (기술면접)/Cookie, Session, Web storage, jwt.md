- 일단 쿠키와 세션은 HTTP 프로토콜의 특성이자 약점인 비연결성과 무상태를 보완하기 위해 등장한 개념입니다.

### 쿠키
- 쿠키는 클라이언트 측에 key-value 형태로 저장되는 저장소입니다. 서버가 쿠키를 생성하여 HTTP 응답 헤더에 이를 담아 클라이언트에게 전달하면, 클라이언트 측에서 이를 저장하고 있는 것입니다. 그리고 별도 요청 시, HTTP 요청헤더에 쿠키를 담아 서버에게 전달으로써 적절한 응답을 받을 수 있도록 합니다. 쿠키는 쇼핑몰 장바구니, 다시보기 팝업, 자동로그인 등에 사용됩니다.

- 쿠키는 클라이언트 측 민감한 정보를 저장하고 있다가, 그대로 HTTP 통신에 노출되는 문제가 있을 수 있습니다. 사용자의 별도 요청없이, 특정 조건(도메인/경로조건 등)을 만족하면 브라우저가 쿠키를 자동으로 전송하는 경우도 있기 때문입니다.

### 세션
- 이런 문제때문에 등장한 게 세션입니다. 세션은 클라이언트 요청 시, 서버가 세션ID라는 것을 만들어 쿠키에 담아 응답하는 방식으로 동작합니다. 실질적으로 통신되는 것은 서버측 세션 스토리지의 PK값인 세션 ID이기 때문에 보안 상 쿠키보다 우수합니다.
- 하지만, 사용자정보가 서버측에서 관리되므로 사용자가 많아질수록 서버 메모리를 많이 차지하게됩니다.

### JWT
- JWT는 JSON 객체 내에 인증에 필요한 정보를 담은 후 비밀키로 서명한 토큰입니다. 
- JWT는 토큰 및 서명검증에 사용하는 알고리즘이나 토큰 타입을 명시하는 Header(헤더), 토큰에서 사용하는 정보가 모여있는 Payload(페이로드), 마지막으로 토큰의 유효성을 검증하는 Signature(서명)으로구성됩니다.
- JWT에서는 헤더와 페이로드 값을 Base64로 인코딩하고, 이 값을 비밀키를 이용해서 헤더에서 정의한 알고리즘으로 해싱과정을 거친다음 한번더 Base64로 인코딩하는 과정을 거쳐 서명을 생성합니다. 그리고 이렇게 생성된 서명의 일치여부로 토큰의 위조여부를 검사합니다.

- JWT는 사용자 인증에 필요한 정보들이 토큰 자체에 포함되어, 세션처럼 인증서버 및 데이터베이스에 의존하지않아도 되는 장점이 있습니다. 서버측에서는 서명의 위조여부를 검증만해주면됩니다. 
- 쿠키와 세션만 썼으면 모든 사용자에 대한 요청에서 쿠키로 넘어오는 세션ID를 DB, 캐시에 저장해두고 사용자데이터를 매번 조회해야합니다.

- 하지만 장점만 있는게 아닙니다. 토큰에 데이터를 많이넣을수록 토큰이 길어지는만큼 네트워크 대역폭이 늘어날 수 있습니다.
- 그리고 엑세스 토큰, 리프레스 토큰 2가지를 사용하며 엑세스 토큰의 만료작업을 진행해주어야합니다. 만료기간 변경이 불가능하기에 재사용이 불가능하기 때문입니다.

### Web Storage
- 웹 스토리지는 서버로의 자동전송 위험성 없이 클라이언트에 데이터를 저장할 수 있도록 html5부터 추가된 저장소입니다. 자바스크립트로 조작 가능합니다.

- 지속성에 따라 반영구적으로 데이터를 저장하는 로컬 스토리지, 브라우저 탭에 종속되어 관리되는 세션 스토리지가 있습니다.



- **데이터 저장위치**
	1. 쿠키 : 클라이언트(브라우저)
	2. 세션 : 서버
- **보안**
	1. 쿠키 : 저장위치 때문에 request에서 스니핑에 당할 우려가 있다.
	2. 세션 : 쿠키를 이용해 **세션ID**만 저장하고 그것으로 클라이언트를 구분하여 서버에서 처리한다.
- **Life Cycle**
	1. 쿠키 : 브라우저를 종료해도 만료기간이 남아있으면 존재한다.
	2. 세션 : 브라우저 종료 시 만료기간에 상관없이 종료한다.
- **속도**
	1. 쿠키 : 브라우저에 정보가 있기 때문에, 세션보다 빠르다.
	2. 세션 : 정보가 서버에 있기 때문에, 쿠키보다 상대적으로 느리다.