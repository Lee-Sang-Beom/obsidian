
### 1. 실행 컨텍스트의 정의

- 자바스크립트의 **실행 컨텍스트**는 코드가 실행되는 환경을 정의하는 기본 개념이다.
	- 일단 추상적으로만 말해보면, **자바스크립트가 코드를 실행할 때 필요한 모든 정보를 담고 있는 박스**라고 생각하면 된다.
	- 자바스크립트의 동적 언어로서의 성격을 가장 잘 파악할 수 있는 개념이다.

- 실행 컨텍스트는 동일한 환경에 있는 **코드들을 실행할 때 필요한** **환경 정보**들을 모아 구성된 객체이다.
	- 코드를 실행하기 위해 객체로서 모인 이 환경정보들은, **콜 스택**에 쌓아올려지고, 가장 위에 쌓여있는 컨텍스트와 관련 있는 코드들을 실행하는 식으로 **전체 코드의 환경과 순서가 보장**된다.

---
### 2. 실행 컨텍스트의 역할

##### 1. 변수 관리
###### ※ 변수 선언 및 초기화 관리
- 실행 컨텍스트는 함수나 전역에서 선언된 변수들을 메모리에 등록하고 초기화한다.
- 선언 단계에서 변수는 `undefined`로 초기화된다. (`var`기준)
- 함수 선언은 실행 전에 메모리에 저장된다.
    - **호이스팅**: 선언된 변수와 함수가 코드의 상단으로 끌어올려지는 것처럼 동작한다.

```js
console.log(a); // undefined
var a = 10;
function foo() { return "Hello"; }
```

##### 2. 스코프 관리
###### ※ 스코프 체인 생성
- 실행 컨텍스트는 현재 코드에서 접근할 수 있는 변수와 함수의 유효 범위를 결정한다.
- 내부 함수는 외부 함수의 스코프에 접근할 수 있으며, 이를 **스코프 체인**이라 한다.

###### ※ Lexical Environment (어휘적 환경) 관리
- 실행 중인 코드의 스코프와 관련된 정보를 저장한다.
    - **전역 환경**: 전역 변수와 함수
    - **함수 환경**: 함수 내부의 지역 변수와 매개변수

```js
function outer() {
    let a = 1;
    function inner() {
        console.log(a); // outer의 스코프에 접근 가능
    }
    inner();
}
outer();
```

##### 3. `this` 바인딩

- 실행 컨텍스트는 **`this` 키워드**의 값을 결정한다.
	- **전역 컨텍스트**: 전역 객체(`window` 또는 `global`)
	- **함수 컨텍스트**: 함수 호출 방식에 따라 결정
	    - 일반 함수 호출: `undefined`(strict 모드) 또는 전역 객체
	    - 객체의 메서드 호출: 메서드를 호출한 객체
	    - 화살표 함수: 선언 시점의 상위 스코프에서 `this`를 결정

```js
const obj = {
    a: 10,
    method() {
        console.log(this.a); // obj의 a
    }
};
obj.method();
```

##### 4. 코드 실행 흐름 제어

- 실행 컨텍스트는 자바스크립트 코드의 **실행 순서**를 가리킨다.
	- 콜 스택에 쌓이고, 실행이 끝나면 콜 스택에서 제거된다.
	- 비동기 작업의 경우, 이벤트 루프와 호출 스택이 협력하여 실행 흐름을 제어한다.

```js
function first() {
    console.log("First");
}
function second() {
    console.log("Second");
}
first();
second(); // 호출 순서대로 실행: first() => second() 실행 순서가 보장된다.
```

##### 5. 클로저와 메모리 관리

- 실행 컨텍스트는 함수 종료 이후에도 변수나 함수가 계속 참조되고 있다면, 이를 유지한다.
- 이를 통해 **클로저**가 가능하며, 스코프 외부에서도 변수에 접근할 수 있다.
	- 클로저 : 반환된 내부함수와 내부함수가 선언되었던 렉시컬 환경의 조합

```js
function makeCounter() {
    let count = 0;
    return function() {
        return ++count; // 클로저를 통해 count 유지
    };
}
const counter = makeCounter();
console.log(counter()); // 1
console.log(counter()); // 2
```

##### 6. 호출 스택 관리

- 실행 컨텍스트는 **콜 스택**에 쌓이고, 실행이 끝나면 콜 스택에서 제거된다.
	- **전역 실행 컨텍스트**는 프로그램이 종료될 때까지 콜 스택에 유지된다.
	- 함수 호출 시마다, 새로운 실행 컨텍스트가 생성되어 **콜 스택**에 추가된다.

```js
function a() {
    b();
}
function b() {
    console.log("b");
}
a(); // 호출 스택: global → a → b
```

##### 7. 환경 정보 관리

- 실행 컨텍스트는 현재 실행 중인 코드와 관련된 모든 환경 정보를 저장한다.
	- 변수
	- 함수 선언
	- 외부 스코프 정보 : 스코프 체인
	- `this` 값

---
### 3. 렉시컬 환경 (Lexical Environment)

