## 1. ì˜ˆì™¸ ì²˜ë¦¬ë€? ğŸ›¡ï¸

í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ì ì ˆíˆ ì²˜ë¦¬í•˜ì—¬ í”„ë¡œê·¸ë¨ì´ ì¤‘ë‹¨ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

### ğŸ” ì˜ˆì™¸ ì²˜ë¦¬ì˜ ì •ì˜

**ì˜ˆì™¸ ì²˜ë¦¬(Exception Handling)**ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ì •í•´ë†“ì€ ê·œì¹™ì—ì„œ ë²—ì–´ë‚œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œì˜ í–‰ë™ì„ ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

### ğŸ’¡ ì™œ ì˜ˆì™¸ ì²˜ë¦¬ê°€ í•„ìš”í•œê°€?

```javascript
// âŒ ì˜ˆì™¸ ì²˜ë¦¬ ì—†ëŠ” ì½”ë“œ
function divide(a, b) {
    return a / b;
}

console.log(divide(10, 0)); // Infinity (ìˆ˜í•™ì ìœ¼ë¡œëŠ” ë¬¸ì œ)
console.log(divide(10, "hello")); // NaN (ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘)

// âŒ ì˜¤ë¥˜ë¡œ í”„ë¡œê·¸ë¨ ì¤‘ë‹¨
const user = null;
console.log(user.name); // TypeError: Cannot read property 'name' of null
// ì´í›„ ì½”ë“œëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠìŒ!

// âœ… ì˜ˆì™¸ ì²˜ë¦¬ê°€ ìˆëŠ” ì½”ë“œ
function safeDivide(a, b) {
    try {
        if (b === 0) {
            throw new Error("0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        }
        if (typeof a !== "number" || typeof b !== "number") {
            throw new Error("ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤");
        }
        return a / b;
    } catch (error) {
        console.error("ì˜¤ë¥˜ ë°œìƒ:", error.message);
        return null;
    }
}

console.log(safeDivide(10, 2));      // 5
console.log(safeDivide(10, 0));      // ì˜¤ë¥˜ ë°œìƒ: 0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
console.log(safeDivide(10, "hello")); // ì˜¤ë¥˜ ë°œìƒ: ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤
```

### ğŸŒŸ ì˜ˆì™¸ ì²˜ë¦¬ì˜ ì¥ì 

- **í”„ë¡œê·¸ë¨ ì•ˆì •ì„± í–¥ìƒ**: ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ë¡œ ì¸í•œ í”„ë¡œê·¸ë¨ ì¤‘ë‹¨ ë°©ì§€
- **ì‚¬ìš©ì ê²½í—˜ ê°œì„ **: ì˜¤ë¥˜ ë°œìƒ ì‹œ ì ì ˆí•œ ë©”ì‹œì§€ ì œê³µ
- **ë””ë²„ê¹… ìš©ì´**: ì˜¤ë¥˜ ì›ì¸ê³¼ ìœ„ì¹˜ë¥¼ ì‰½ê²Œ íŒŒì•…
- **ì½”ë“œ ê°€ë…ì„±**: ì •ìƒ ë¡œì§ê³¼ ì˜¤ë¥˜ ì²˜ë¦¬ ë¡œì§ ë¶„ë¦¬

---

## 2. try-catch ê¸°ë³¸ êµ¬ì¡° ğŸ“

### ğŸ¯ ê¸°ë³¸ ë¬¸ë²•

```javascript
try {
    // ì˜¤ë¥˜ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì½”ë“œ
    const result = riskyOperation();
    console.log(result);
} catch (error) {
    // ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ë  ì½”ë“œ
    console.error("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:", error.message);
}
```

### ğŸ’¡ ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

```javascript
// 1. JSON íŒŒì‹±
function parseJSON(jsonString) {
    try {
        const data = JSON.parse(jsonString);
        return { success: true, data };
    } catch (error) {
        return { 
            success: false, 
            error: "ìœ íš¨í•˜ì§€ ì•Šì€ JSON í˜•ì‹ì…ë‹ˆë‹¤" 
        };
    }
}

console.log(parseJSON('{"name": "Alice"}')); 
// { success: true, data: { name: "Alice" } }

console.log(parseJSON('{invalid json}'));
// { success: false, error: "ìœ íš¨í•˜ì§€ ì•Šì€ JSON í˜•ì‹ì…ë‹ˆë‹¤" }

// 2. ë°°ì—´ ì ‘ê·¼
function getArrayElement(arr, index) {
    try {
        if (!Array.isArray(arr)) {
            throw new Error("ë°°ì—´ì´ ì•„ë‹™ë‹ˆë‹¤");
        }
        if (index < 0 || index >= arr.length) {
            throw new Error("ì¸ë±ìŠ¤ê°€ ë²”ìœ„ë¥¼ ë²—ì–´ë‚¬ìŠµë‹ˆë‹¤");
        }
        return arr[index];
    } catch (error) {
        console.error("ì˜¤ë¥˜:", error.message);
        return undefined;
    }
}

const numbers = [1, 2, 3, 4, 5];
console.log(getArrayElement(numbers, 2));  // 3
console.log(getArrayElement(numbers, 10)); // ì˜¤ë¥˜: ì¸ë±ìŠ¤ê°€ ë²”ìœ„ë¥¼ ë²—ì–´ë‚¬ìŠµë‹ˆë‹¤
console.log(getArrayElement("not array", 0)); // ì˜¤ë¥˜: ë°°ì—´ì´ ì•„ë‹™ë‹ˆë‹¤
```

---

## 3. try-catch-finally êµ¬ì¡° ğŸ”„

### ğŸ” finallyì˜ ì—­í• 

**finally ë¸”ë¡**ì€ try ë¸”ë¡ì˜ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ **í•­ìƒ ì‹¤í–‰**ë©ë‹ˆë‹¤.

### ğŸ“Š ì‹¤í–‰ ìˆœì„œ

```javascript
function demonstrateFinally() {
    console.log("1. ì‹œì‘");
    
    try {
        console.log("2. try ë¸”ë¡ ì‹¤í–‰");
        // throw new Error("ì˜ë„ì  ì˜¤ë¥˜"); // ì£¼ì„ í•´ì œí•˜ë©´ catch ì‹¤í–‰
        console.log("3. try ë¸”ë¡ ì™„ë£Œ");
        return "success";
    } catch (error) {
        console.log("4. catch ë¸”ë¡ ì‹¤í–‰");
        return "error";
    } finally {
        console.log("5. finally ë¸”ë¡ ì‹¤í–‰ (í•­ìƒ ì‹¤í–‰!)");
    }
    
    console.log("6. í•¨ìˆ˜ ë"); // ë„ë‹¬í•˜ì§€ ì•ŠìŒ (return ë•Œë¬¸)
}

demonstrateFinally();
/*
ì¶œë ¥:
1. ì‹œì‘
2. try ë¸”ë¡ ì‹¤í–‰
3. try ë¸”ë¡ ì™„ë£Œ
4. finally ë¸”ë¡ ì‹¤í–‰ (í•­ìƒ ì‹¤í–‰!)
*/
```

### ğŸ’¡ finallyì˜ ì£¼ìš” ì‚¬ìš© ì‚¬ë¡€

#### 1ï¸âƒ£ ë¦¬ì†ŒìŠ¤ í•´ì œ

```javascript
// íŒŒì¼ ì‘ì—…
function readFile(filePath) {
    let file = null;
    
    try {
        file = openFile(filePath); // íŒŒì¼ ì—´ê¸°
        const content = file.read();
        console.log("íŒŒì¼ ë‚´ìš©:", content);
        return content;
    } catch (error) {
        console.error("íŒŒì¼ ì½ê¸° ì˜¤ë¥˜:", error.message);
        return null;
    } finally {
        // ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ íŒŒì¼ ë‹«ê¸°
        if (file) {
            file.close();
            console.log("íŒŒì¼ì´ ë‹«í˜”ìŠµë‹ˆë‹¤.");
        }
    }
}

// ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
async function queryDatabase(query) {
    let connection = null;
    
    try {
        connection = await connectToDatabase();
        const result = await connection.execute(query);
        return result;
    } catch (error) {
        console.error("ì¿¼ë¦¬ ì‹¤í–‰ ì˜¤ë¥˜:", error);
        throw error;
    } finally {
        // ì—°ê²° ì¢…ë£Œ (í•­ìƒ ì‹¤í–‰)
        if (connection) {
            await connection.close();
            console.log("ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
        }
    }
}
```

#### 2ï¸âƒ£ ë¡œë”© ìƒíƒœ ê´€ë¦¬

```javascript
// React ì˜ˆì‹œ
async function fetchData() {
    let isLoading = true;
    
    try {
        console.log("ë¡œë”© ì‹œì‘...");
        const response = await fetch("/api/data");
        const data = await response.json();
        return data;
    } catch (error) {
        console.error("ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:", error);
        return null;
    } finally {
        // ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ë¡œë”© ì¢…ë£Œ
        isLoading = false;
        console.log("ë¡œë”© ì™„ë£Œ");
    }
}
```

#### 3ï¸âƒ£ íƒ€ì´ë¨¸ ì •ë¦¬

```javascript
function processWithTimeout(task, timeout = 5000) {
    let timerId = null;
    
    try {
        // íƒ€ì„ì•„ì›ƒ ì„¤ì •
        timerId = setTimeout(() => {
            throw new Error("ì‘ì—… ì‹œê°„ ì´ˆê³¼");
        }, timeout);
        
        // ì‘ì—… ì‹¤í–‰
        const result = task();
        console.log("ì‘ì—… ì™„ë£Œ:", result);
        return result;
    } catch (error) {
        console.error("ì˜¤ë¥˜ ë°œìƒ:", error.message);
        return null;
    } finally {
        // íƒ€ì´ë¨¸ ì •ë¦¬ (í•­ìƒ ì‹¤í–‰)
        if (timerId) {
            clearTimeout(timerId);
            console.log("íƒ€ì´ë¨¸ ì •ë¦¬ ì™„ë£Œ");
        }
    }
}
```

### ğŸŒŸ ì‹¤ì „ ì˜ˆì‹œ: ìˆ«ì ê³„ì‚°ê¸°

```javascript
// ì‚¬ìš©ì ì…ë ¥ì„ ìˆ«ìë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
function parseNumber(input) {
    const number = parseFloat(input);
    if (isNaN(number)) {
        throw new Error("ì…ë ¥ ê°’ì´ ìˆ«ìê°€ ì•„ë‹™ë‹ˆë‹¤.");
    }
    return number;
}

// ë‘ ìˆ«ìë¥¼ ë”í•˜ëŠ” í•¨ìˆ˜
function addNumbers(a, b) {
    return a + b;
}

// ë©”ì¸ í•¨ìˆ˜
function calculator() {
    console.log("=== ê³„ì‚°ê¸° ì‹œì‘ ===");
    
    try {
        const input1 = "10";
        const input2 = "20";
        
        console.log(`ì…ë ¥ê°’: ${input1}, ${input2}`);
        
        const number1 = parseNumber(input1);
        const number2 = parseNumber(input2);
        
        const result = addNumbers(number1, number2);
        console.log(`ê²°ê³¼: ${result}`);
        return result;
    } catch (error) {
        console.error(`ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);
        return null;
    } finally {
        console.log("=== ê³„ì‚°ê¸° ì¢…ë£Œ ===");
    }
}

calculator();
/*
ì¶œë ¥:
=== ê³„ì‚°ê¸° ì‹œì‘ ===
ì…ë ¥ê°’: 10, 20
ê²°ê³¼: 30
=== ê³„ì‚°ê¸° ì¢…ë£Œ ===
*/

// ì˜¤ë¥˜ ë°œìƒ ì¼€ì´ìŠ¤
function calculatorWithError() {
    console.log("=== ê³„ì‚°ê¸° ì‹œì‘ ===");
    
    try {
        const input1 = "10";
        const input2 = "abc"; // ì˜ëª»ëœ ì…ë ¥
        
        console.log(`ì…ë ¥ê°’: ${input1}, ${input2}`);
        
        const number1 = parseNumber(input1);
        const number2 = parseNumber(input2); // ì—¬ê¸°ì„œ ì˜¤ë¥˜ ë°œìƒ
        
        const result = addNumbers(number1, number2);
        console.log(`ê²°ê³¼: ${result}`);
    } catch (error) {
        console.error(`ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);
    } finally {
        console.log("=== ê³„ì‚°ê¸° ì¢…ë£Œ ===");
    }
}

calculatorWithError();
/*
ì¶œë ¥:
=== ê³„ì‚°ê¸° ì‹œì‘ ===
ì…ë ¥ê°’: 10, abc
ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ì…ë ¥ ê°’ì´ ìˆ«ìê°€ ì•„ë‹™ë‹ˆë‹¤.
=== ê³„ì‚°ê¸° ì¢…ë£Œ ===
*/
```

---

## 4. ì˜ˆì™¸ ì „ë‹¬ (throw) ğŸ¯

### ğŸ” throwì˜ ì—­í• 

**throw ë¬¸**ì€ ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œ ìƒìœ„ í˜¸ì¶œ ìŠ¤íƒìœ¼ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.

### ğŸ’¡ ê¸°ë³¸ ì‚¬ìš©ë²•

```javascript
function validateAge(age) {
    if (age < 0) {
        throw new Error("ë‚˜ì´ëŠ” ìŒìˆ˜ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
    }
    if (age > 150) {
        throw new Error("ë‚˜ì´ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤");
    }
    return true;
}

function createUser(name, age) {
    try {
        validateAge(age); // ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ catchë¡œ ì „ë‹¬
        return { name, age, createdAt: new Date() };
    } catch (error) {
        console.error("ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨:", error.message);
        return null;
    }
}

console.log(createUser("Alice", 25));  // { name: "Alice", age: 25, ... }
console.log(createUser("Bob", -5));    // ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨: ë‚˜ì´ëŠ” ìŒìˆ˜ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
console.log(createUser("Charlie", 200)); // ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨: ë‚˜ì´ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤
```

### ğŸŒŸ ì˜ˆì™¸ ì „ë‹¬ì˜ ì‹¤ì „ í™œìš©

#### 1ï¸âƒ£ ë‹¤ë‹¨ê³„ í•¨ìˆ˜ í˜¸ì¶œ

```javascript
// ìµœí•˜ìœ„ í•¨ìˆ˜
function readConfig() {
    throw new Error("ì„¤ì • íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
}

// ì¤‘ê°„ í•¨ìˆ˜
function initializeApp() {
    try {
        const config = readConfig(); // ì˜ˆì™¸ ë°œìƒ
        return config;
    } catch (error) {
        // ì˜ˆì™¸ë¥¼ ìƒìœ„ë¡œ ë‹¤ì‹œ ì „ë‹¬ (ì¬throw)
        throw new Error(`ì•± ì´ˆê¸°í™” ì‹¤íŒ¨: ${error.message}`);
    }
}

// ìµœìƒìœ„ í•¨ìˆ˜
function startApp() {
    try {
        initializeApp();
        console.log("ì•±ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤");
    } catch (error) {
        console.error("ì¹˜ëª…ì  ì˜¤ë¥˜:", error.message);
        // ì¹˜ëª…ì  ì˜¤ë¥˜: ì•± ì´ˆê¸°í™” ì‹¤íŒ¨: ì„¤ì • íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
    }
}

startApp();
```

#### 2ï¸âƒ£ ìœ íš¨ì„± ê²€ì¦ ì²´ì¸

```javascript
function validateEmail(email) {
    if (!email) {
        throw new Error("ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”");
    }
    if (!email.includes("@")) {
        throw new Error("ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤");
    }
    return true;
}

function validatePassword(password) {
    if (!password) {
        throw new Error("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”");
    }
    if (password.length < 8) {
        throw new Error("ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤");
    }
    return true;
}

function register(email, password) {
    try {
        console.log("íšŒì›ê°€ì… ì‹œë„...");
        validateEmail(email);
        validatePassword(password);
        console.log("íšŒì›ê°€ì… ì„±ê³µ! âœ…");
        return { success: true, email };
    } catch (error) {
        console.error("íšŒì›ê°€ì… ì‹¤íŒ¨:", error.message);
        return { success: false, error: error.message };
    }
}

// í…ŒìŠ¤íŠ¸
register("alice@example.com", "securepass123"); // ì„±ê³µ
register("", "password"); // ì‹¤íŒ¨: ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”
register("invalid-email", "password"); // ì‹¤íŒ¨: ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤
register("bob@example.com", "short"); // ì‹¤íŒ¨: ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤
```

#### 3ï¸âƒ£ Error ê°ì²´ì˜ ìŠ¤íƒ ì¶”ì 

```javascript
function innerFunction() {
    throw new Error("ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ ì˜¤ë¥˜ ë°œìƒ");
}

function middleFunction() {
    innerFunction(); // ì˜ˆì™¸ë¥¼ ìƒìœ„ë¡œ ì „ë‹¬
}

function outerFunction() {
    try {
        middleFunction();
    } catch (error) {
        console.error("ì˜¤ë¥˜ ì²˜ë¦¬:", error.message);
        console.error("ìŠ¤íƒ ì¶”ì :");
        console.error(error.stack); // ì–´ë””ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸
        /*
        ì¶œë ¥:
        ì˜¤ë¥˜ ì²˜ë¦¬: ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ ì˜¤ë¥˜ ë°œìƒ
        ìŠ¤íƒ ì¶”ì :
        Error: ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ ì˜¤ë¥˜ ë°œìƒ
            at innerFunction (file.js:2:11)
            at middleFunction (file.js:6:5)
            at outerFunction (file.js:10:9)
        */
    }
}

outerFunction();
```

---

## 5. ì»¤ìŠ¤í…€ ì—ëŸ¬ í´ë˜ìŠ¤ ğŸ¨

### ğŸ” ì™œ ì»¤ìŠ¤í…€ ì—ëŸ¬ê°€ í•„ìš”í•œê°€?

ì—ëŸ¬ íƒ€ì…ì„ êµ¬ë¶„í•˜ì—¬ ê°ê° ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ’¡ ì»¤ìŠ¤í…€ ì—ëŸ¬ ì •ì˜

```javascript
// 1. ê¸°ë³¸ ì»¤ìŠ¤í…€ ì—ëŸ¬
class ValidationError extends Error {
    constructor(message) {
        super(message);
        this.name = "ValidationError";
    }
}

class NetworkError extends Error {
    constructor(message, statusCode) {
        super(message);
        this.name = "NetworkError";
        this.statusCode = statusCode;
    }
}

class DatabaseError extends Error {
    constructor(message, query) {
        super(message);
        this.name = "DatabaseError";
        this.query = query;
    }
}

// 2. ì—ëŸ¬ íƒ€ì…ë³„ ì²˜ë¦¬
function processData(data) {
    try {
        if (!data) {
            throw new ValidationError("ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤");
        }
        if (!data.id) {
            throw new ValidationError("IDê°€ í•„ìš”í•©ë‹ˆë‹¤");
        }
        
        // ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì‹œë®¬ë ˆì´ì…˜
        if (Math.random() < 0.3) {
            throw new NetworkError("ì„œë²„ ì—°ê²° ì‹¤íŒ¨", 500);
        }
        
        // ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ì‹œë®¬ë ˆì´ì…˜
        if (Math.random() < 0.2) {
            throw new DatabaseError(
                "ì¿¼ë¦¬ ì‹¤í–‰ ì‹¤íŒ¨", 
                "SELECT * FROM users"
            );
        }
        
        return { success: true, data };
    } catch (error) {
        // ì—ëŸ¬ íƒ€ì…ë³„ë¡œ ë‹¤ë¥¸ ì²˜ë¦¬
        if (error instanceof ValidationError) {
            console.error("âŒ ê²€ì¦ ì˜¤ë¥˜:", error.message);
            return { success: false, type: "validation" };
        } else if (error instanceof NetworkError) {
            console.error("ğŸŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜:", error.message);
            console.error("ìƒíƒœ ì½”ë“œ:", error.statusCode);
            return { success: false, type: "network" };
        } else if (error instanceof DatabaseError) {
            console.error("ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜:", error.message);
            console.error("ì¿¼ë¦¬:", error.query);
            return { success: false, type: "database" };
        } else {
            console.error("âš ï¸ ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜:", error);
            return { success: false, type: "unknown" };
        }
    }
}

// í…ŒìŠ¤íŠ¸
processData({ id: 1, name: "Alice" });
processData(null);
processData({ name: "Bob" });
```

### ğŸŒŸ ì‹¤ì „ ì˜ˆì‹œ: API ì—ëŸ¬ ì²˜ë¦¬

```javascript
class APIError extends Error {
    constructor(message, statusCode, endpoint) {
        super(message);
        this.name = "APIError";
        this.statusCode = statusCode;
        this.endpoint = endpoint;
        this.timestamp = new Date();
    }
}

async function fetchUserData(userId) {
    try {
        const response = await fetch(`/api/users/${userId}`);
        
        if (!response.ok) {
            throw new APIError(
                "ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
                response.status,
                `/api/users/${userId}`
            );
        }
        
        const data = await response.json();
        return { success: true, data };
    } catch (error) {
        if (error instanceof APIError) {
            console.error("API ì˜¤ë¥˜:", {
                message: error.message,
                status: error.statusCode,
                endpoint: error.endpoint,
                time: error.timestamp
            });
            
            // ìƒíƒœ ì½”ë“œë³„ ì²˜ë¦¬
            if (error.statusCode === 404) {
                return { success: false, error: "ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" };
            } else if (error.statusCode === 401) {
                return { success: false, error: "ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤" };
            } else if (error.statusCode >= 500) {
                return { success: false, error: "ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤" };
            }
        }
        
        return { success: false, error: "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜" };
    }
}
```

---

## 6. ë¹„ë™ê¸° ì½”ë“œì˜ ì˜ˆì™¸ ì²˜ë¦¬ âš¡

### ğŸ” async/awaitê³¼ try-catch

```javascript
// âœ… async/awaitê³¼ try-catch
async function fetchData(url) {
    try {
        console.log("ë°ì´í„° ìš”ì²­ ì¤‘...");
        const response = await fetch(url);
        
        if (!response.ok) {
            throw new Error(`HTTP ì˜¤ë¥˜! ìƒíƒœ: ${response.status}`);
        }
        
        const data = await response.json();
        console.log("ë°ì´í„° ë°›ê¸° ì„±ê³µ:", data);
        return data;
    } catch (error) {
        console.error("ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:", error.message);
        return null;
    } finally {
        console.log("ìš”ì²­ ì™„ë£Œ");
    }
}

// ì‚¬ìš©
async function loadUserProfile(userId) {
    const userData = await fetchData(`/api/users/${userId}`);
    if (userData) {
        console.log("ì‚¬ìš©ì í”„ë¡œí•„:", userData);
    } else {
        console.log("ê¸°ë³¸ í”„ë¡œí•„ ì‚¬ìš©");
    }
}
```

### ğŸ’¡ Promiseì˜ catch

```javascript
// Promise ì²´ì¸ì—ì„œì˜ ì—ëŸ¬ ì²˜ë¦¬
fetch("/api/data")
    .then(response => {
        if (!response.ok) {
            throw new Error("ë„¤íŠ¸ì›Œí¬ ì‘ë‹µì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤");
        }
        return response.json();
    })
    .then(data => {
        console.log("ë°ì´í„°:", data);
        return processData(data);
    })
    .catch(error => {
        console.error("ì˜¤ë¥˜ ë°œìƒ:", error.message);
    })
    .finally(() => {
        console.log("ì‘ì—… ì™„ë£Œ");
    });
```

### ğŸŒŸ ì‹¤ì „ ì˜ˆì‹œ: CSV ë‹¤ìš´ë¡œë“œ

```javascript
async function downloadCSV(queryParams) {
    try {
        console.log("CSV ë‹¤ìš´ë¡œë“œ ì‹œì‘...");
        
        // API í˜¸ì¶œ
        const response = await fetch(
            `/api/common/openData/getExmnStatExcelByFile?${makeUrlQuery(queryParams)}`
        );
        
        // ì‘ë‹µ ìƒíƒœ í™•ì¸
        if (!response.ok) {
            throw new Error(`ì„œë²„ ì˜¤ë¥˜: ${response.status}`);
        }
        
        // JSON ë°ì´í„° íŒŒì‹±
        const data = await response.json();
        
        // ë°ì´í„° ê²€ì¦
        if (!data || !data.length) {
            throw new Error("ë‹¤ìš´ë¡œë“œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤");
        }
        
        // CSV í—¤ë” ìƒì„±
        const headerString = "ì¡°ì‚¬í†µê³„ì¢…ë¥˜,ê¸°ì¤€ì—°ë„,ìë£Œëª…,ì¡°íšŒìˆ˜,ì‘ì„±ì¼,ìˆ˜ì •ì¼";
        
        // CSV ë°ì´í„° ë³€í™˜
        const csvRows = data.map(item => {
            return [
                JSON.stringify(item.exmnStatCtgrNm),
                JSON.stringify(item.crtrYr),
                JSON.stringify(item.title),
                JSON.stringify(item.inqCnt),
                item.regDt ? JSON.stringify(item.regDt) : "-",
                item.mdfcnDt ? JSON.stringify(item.mdfcnDt) : "-"
            ].join(",");
        });
        
        // CSV ë‹¤ìš´ë¡œë“œ ì‹¤í–‰
        clientCSVDownload(
            headerString,
            csvRows,
            `ìš°ë¦¬í”Œë«í¼_ì¡°ì‚¬í†µê³„.csv`
        );
        
        console.log("CSV ë‹¤ìš´ë¡œë“œ ì™„ë£Œ! âœ…");
        return { success: true };
        
    } catch (error) {
        console.error("CSV ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:", error.message);
        
        // ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
        alert(`ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨: ${error.message}`);
        
        return { success: false, error: error.message };
    } finally {
        console.log("ë‹¤ìš´ë¡œë“œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ");
    }
}

// ë²„íŠ¼ í´ë¦­ í•¸ë“¤ëŸ¬
const handleDownload = async () => {
    const { page, size, orderBy, sort, ...rest } = queryInstance;
    await downloadCSV(rest);
};
```

### ğŸ¯ ì—¬ëŸ¬ ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬

```javascript
async function fetchMultipleData() {
    try {
        console.log("ì—¬ëŸ¬ ë°ì´í„° ìš”ì²­ ì‹œì‘...");
        
        // Promise.all: ëª¨ë“  ìš”ì²­ì´ ì„±ê³µí•´ì•¼ í•¨
        const [users, posts, comments] = await Promise.all([
            fetch("/api/users").then(r => r.json()),
            fetch("/api/posts").then(r => r.json()),
            fetch("/api/comments").then(r => r.json())
        ]);
        
        console.log("ëª¨ë“  ë°ì´í„° ë¡œë“œ ì„±ê³µ!");
        return { users, posts, comments };
        
    } catch (error) {
        console.error("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:", error);
        return null;
    }
}

async function fetchMultipleDataSafely() {
    try {
        console.log("ì—¬ëŸ¬ ë°ì´í„° ìš”ì²­ ì‹œì‘ (ì•ˆì „ ëª¨ë“œ)...");
        
        // Promise.allSettled: ì¼ë¶€ ì‹¤íŒ¨í•´ë„ ê³„ì† ì§„í–‰
        const results = await Promise.allSettled([
            fetch("/api/users").then(r => r.json()),
            fetch("/api/posts").then(r => r.json()),
            fetch("/api/comments").then(r => r.json())
        ]);
        
        // ê²°ê³¼ ì²˜ë¦¬
        const [usersResult, postsResult, commentsResult] = results;
        
        return {
            users: usersResult.status === "fulfilled" ? usersResult.value : [],
            posts: postsResult.status === "fulfilled" ? postsResult.value : [],
            comments: commentsResult.status === "fulfilled" ? commentsResult.value : []
        };
        
    } catch (error) {
        console.error("ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜:", error);
        return { users: [], posts: [], comments: [] };
    }
}
```

---

## 7. ì˜ˆì™¸ ì²˜ë¦¬ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ âœ¨

### ğŸ“Œ 1. êµ¬ì²´ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€

```javascript
// âŒ ë‚˜ìœ ì˜ˆ
throw new Error("ì˜¤ë¥˜");

// âœ… ì¢‹ì€ ì˜ˆ
throw new Error("ì‚¬ìš©ì IDê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤: " + userId);
```

### ğŸ“Œ 2. ì ì ˆí•œ ì—ëŸ¬ íƒ€ì… ì‚¬ìš©

```javascript
// âŒ ëª¨ë“  ì—ëŸ¬ë¥¼ ë™ì¼í•˜ê²Œ ì²˜ë¦¬
try {
    // ...
} catch (error) {
    console.error("ì˜¤ë¥˜ ë°œìƒ");
}

// âœ… ì—ëŸ¬ íƒ€ì…ë³„ë¡œ ë‹¤ë¥´ê²Œ ì²˜ë¦¬
try {
    // ...
} catch (error) {
    if (error instanceof ValidationError) {
        handleValidationError(error);
    } else if (error instanceof NetworkError) {
        handleNetworkError(error);
    } else {
        handleUnknownError(error);
    }
}
```

### ğŸ“Œ 3. í•„ìš”í•œ ê³³ì—ë§Œ try-catch ì‚¬ìš©

```javascript
// âŒ ê³¼ë„í•œ try-catch
function processUser(user) {
    try {
        const name = user.name;
    } catch (error) {
        // ë¶ˆí•„ìš”
    }
    
    try {
        const age = user.age;
    } catch (error) {
        // ë¶ˆí•„ìš”
    }
}

// âœ… ì ì ˆí•œ ë²”ìœ„
function processUser(user) {
    try {
        validateUser(user);
        const result = transformUser(user);
        saveUser(result);
    } catch (error) {
        handleUserProcessingError(error);
    }
}
```

### ğŸ“Œ 4. ì—ëŸ¬ ë¡œê¹…

```javascript
// âœ… ì—ëŸ¬ ì •ë³´ë¥¼ ìƒì„¸íˆ ê¸°ë¡
function logError(error, context = {}) {
    console.error({
        message: error.message,
        name: error.name,
        stack: error.stack,
        timestamp: new Date().toISOString(),
        ...context
    });
}

try {
    // ìœ„í—˜í•œ ì‘ì—…
    riskyOperation();
} catch (error) {
    logError(error, {
        operation: "riskyOperation",
        userId: currentUser.id,
        params: { /* ... */ }
    });
}
```

### ğŸ“Œ 5. ì—ëŸ¬ ë³µêµ¬ ì „ëµ

```javascript
async function fetchWithRetry(url, maxRetries = 3) {
    for (let i = 0; i < maxRetries; i++) {
        try {
            const response = await fetch(url);
            if (!response.ok) throw new Error("Request failed");
            return await response.json();
        } catch (error) {
            console.log(`ì‹œë„ ${i + 1}/${maxRetries} ì‹¤íŒ¨`);
            
            if (i === maxRetries - 1) {
                // ë§ˆì§€ë§‰ ì¬ì‹œë„ë„ ì‹¤íŒ¨
                throw new Error(`${maxRetries}ë²ˆ ì‹œë„ í›„ ì‹¤íŒ¨: ${error.message}`);
            }
            
            // ì¬ì‹œë„ ì „ ëŒ€ê¸° (Exponential Backoff)
            await new Promise(resolve => 
                setTimeout(resolve, Math.pow(2, i) * 1000)
            );
        }
    }
}

// ì‚¬ìš©
fetchWithRetry("/api/data")
    .then(data => console.log("ë°ì´í„°:", data))
    .catch(error => console.error("ìµœì¢… ì‹¤íŒ¨:", error));
```

---

## 8. ì‹¤ì „ ì¢…í•© ì˜ˆì œ ğŸš€

### ğŸ¯ ì‚¬ìš©ì ë“±ë¡ ì‹œìŠ¤í…œ

```javascript
// ì»¤ìŠ¤í…€ ì—ëŸ¬ ì •ì˜
class ValidationError extends Error {
    constructor(message, field) {
        super(message);
        this.name = "ValidationError";
        this.field = field;
    }
}

class DuplicateError extends Error {
    constructor(message, field, value) {
        super(message);
        this.name = "DuplicateError";
        this.field = field;
        this.value = value;
    }
}

// ìœ íš¨ì„± ê²€ì¦ í•¨ìˆ˜ë“¤
function validateEmail(email) {
    if (!email) {
        throw new ValidationError("ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”", "email");
    }
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        throw new ValidationError("ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤", "email");
    }
    return true;
}

function validatePassword(password) {
    if (!password) {
        throw new ValidationError("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”", "password");
    }
    if (password.length < 8) {
        throw new ValidationError(
            "ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤", 
            "password"
        );
    }
    if (!/[A-Z]/.test(password)) {
        throw new ValidationError(
            "ë¹„ë°€ë²ˆí˜¸ì— ëŒ€ë¬¸ìê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤",
            "password"
        );
    }
    if (!/[0-9]/.test(password)) {
        throw new ValidationError(
            "ë¹„ë°€ë²ˆí˜¸ì— ìˆ«ìê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤",
            "password"
        );
    }
    return true;
}

function validateAge(age) {
    if (age === undefined || age === null) {
        throw new ValidationError("ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”", "age");
    }
    if (typeof age !== "number" || isNaN(age)) {
        throw new ValidationError("ë‚˜ì´ëŠ” ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤", "age");
    }
    if (age < 0) {
        throw new ValidationError("ë‚˜ì´ëŠ” 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤", "age");
    }
    if (age > 150) {
        throw new ValidationError("ì˜¬ë°”ë¥¸ ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”", "age");
    }
    return true;
}

// ì¤‘ë³µ ì²´í¬ (ì‹œë®¬ë ˆì´ì…˜)
async function checkDuplicateEmail(email) {
    // ì‹¤ì œë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ
    const existingEmails = ["test@example.com", "admin@example.com"];
    
    if (existingEmails.includes(email)) {
        throw new DuplicateError(
            "ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤",
            "email",
            email
        );
    }
    return true;
}

// ì‚¬ìš©ì ë“±ë¡ í•¨ìˆ˜
async function registerUser(userData) {
    console.log("=".repeat(50));
    console.log("íšŒì›ê°€ì… ì‹œì‘");
    console.log("=".repeat(50));
    
    try {
        const { email, password, age, name } = userData;
        
        // 1ë‹¨ê³„: ê¸°ë³¸ ìœ íš¨ì„± ê²€ì¦
        console.log("1ï¸âƒ£ ìœ íš¨ì„± ê²€ì¦ ì¤‘...");
        validateEmail(email);
        validatePassword(password);
        validateAge(age);
        console.log("âœ… ìœ íš¨ì„± ê²€ì¦ í†µê³¼");
        
        // 2ë‹¨ê³„: ì¤‘ë³µ ì²´í¬
        console.log("2ï¸âƒ£ ì¤‘ë³µ ì²´í¬ ì¤‘...");
        await checkDuplicateEmail(email);
        console.log("âœ… ì¤‘ë³µ ì²´í¬ í†µê³¼");
        
        // 3ë‹¨ê³„: ì‚¬ìš©ì ìƒì„± (ì‹œë®¬ë ˆì´ì…˜)
        console.log("3ï¸âƒ£ ì‚¬ìš©ì ìƒì„± ì¤‘...");
        const newUser = {
            id: Date.now(),
            email,
            name,
            age,
            createdAt: new Date().toISOString()
        };
        console.log("âœ… ì‚¬ìš©ì ìƒì„± ì™„ë£Œ");
        
        // 4ë‹¨ê³„: í™˜ì˜ ì´ë©”ì¼ ë°œì†¡ (ì‹œë®¬ë ˆì´ì…˜)
        console.log("4ï¸âƒ£ í™˜ì˜ ì´ë©”ì¼ ë°œì†¡ ì¤‘...");
        await sendWelcomeEmail(email, name);
        console.log("âœ… í™˜ì˜ ì´ë©”ì¼ ë°œì†¡ ì™„ë£Œ");
        
        console.log("=".repeat(50));
        console.log("ğŸ‰ íšŒì›ê°€ì… ì„±ê³µ!");
        console.log("=".repeat(50));
        
        return {
            success: true,
            user: newUser,
            message: "íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤"
        };
        
    } catch (error) {
        console.log("=".repeat(50));
        
        if (error instanceof ValidationError) {
            console.error("âŒ ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨");
            console.error(`í•„ë“œ: ${error.field}`);
            console.error(`ë©”ì‹œì§€: ${error.message}`);
            
            return {
                success: false,
                type: "validation",
                field: error.field,
                message: error.message
            };
            
        } else if (error instanceof DuplicateError) {
            console.error("âŒ ì¤‘ë³µ ë°ì´í„° ë°œê²¬");
            console.error(`í•„ë“œ: ${error.field}`);
            console.error(`ê°’: ${error.value}`);
            console.error(`ë©”ì‹œì§€: ${error.message}`);
            
            return {
                success: false,
                type: "duplicate",
                field: error.field,
                message: error.message
            };
            
        } else {
            console.error("âš ï¸ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜");
            console.error(error);
            
            return {
                success: false,
                type: "unknown",
                message: "íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"
            };
        }
    } finally {
        console.log("=".repeat(50));
        console.log("íšŒì›ê°€ì… í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ");
        console.log("=".repeat(50));
    }
}

// í™˜ì˜ ì´ë©”ì¼ ë°œì†¡ (ì‹œë®¬ë ˆì´ì…˜)
async function sendWelcomeEmail(email, name) {
    return new Promise((resolve) => {
        setTimeout(() => {
            console.log(`ğŸ“§ ${name}ë‹˜ê»˜ í™˜ì˜ ì´ë©”ì¼ ë°œì†¡: ${email}`);
            resolve();
        }, 1000);
    });
}

// í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
async function runTests() {
    // âœ… ì„±ê³µ ì¼€ì´ìŠ¤
    console.log("\nğŸ“ í…ŒìŠ¤íŠ¸ 1: ì •ìƒ íšŒì›ê°€ì…");
    await registerUser({
        email: "alice@example.com",
        password: "SecurePass123",
        age: 25,
        name: "Alice"
    });
    
    // âŒ ì´ë©”ì¼ ìœ íš¨ì„± ì‹¤íŒ¨
    console.log("\nğŸ“ í…ŒìŠ¤íŠ¸ 2: ì˜ëª»ëœ ì´ë©”ì¼");
    await registerUser({
        email: "invalid-email",
        password: "SecurePass123",
        age: 25,
        name: "Bob"
    });
    
    // âŒ ë¹„ë°€ë²ˆí˜¸ ìœ íš¨ì„± ì‹¤íŒ¨
    console.log("\nğŸ“ í…ŒìŠ¤íŠ¸ 3: ì•½í•œ ë¹„ë°€ë²ˆí˜¸");
    await registerUser({
        email: "bob@example.com",
        password: "weak",
        age: 30,
        name: "Bob"
    });
    
    // âŒ ë‚˜ì´ ìœ íš¨ì„± ì‹¤íŒ¨
    console.log("\nğŸ“ í…ŒìŠ¤íŠ¸ 4: ì˜ëª»ëœ ë‚˜ì´");
    await registerUser({
        email: "charlie@example.com",
        password: "SecurePass123",
        age: -5,
        name: "Charlie"
    });
    
    // âŒ ì¤‘ë³µ ì´ë©”ì¼
    console.log("\nğŸ“ í…ŒìŠ¤íŠ¸ 5: ì¤‘ë³µ ì´ë©”ì¼");
    await registerUser({
        email: "test@example.com",
        password: "SecurePass123",
        age: 28,
        name: "Test"
    });
}

// í…ŒìŠ¤íŠ¸ ì‹¤í–‰
runTests();
```

### ğŸ›’ ì‡¼í•‘ëª° ì£¼ë¬¸ ì‹œìŠ¤í…œ

```javascript
class OrderError extends Error {
    constructor(message, code, details = {}) {
        super(message);
        this.name = "OrderError";
        this.code = code;
        this.details = details;
    }
}

class Order {
    constructor() {
        this.items = [];
        this.status = "pending";
    }
    
    // ìƒí’ˆ ì¶”ê°€
    addItem(productId, quantity, price) {
        try {
            // ìœ íš¨ì„± ê²€ì¦
            if (!productId) {
                throw new OrderError(
                    "ìƒí’ˆ IDê°€ í•„ìš”í•©ë‹ˆë‹¤",
                    "INVALID_PRODUCT_ID"
                );
            }
            
            if (!quantity || quantity <= 0) {
                throw new OrderError(
                    "ìˆ˜ëŸ‰ì€ 1ê°œ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤",
                    "INVALID_QUANTITY",
                    { quantity }
                );
            }
            
            if (!price || price < 0) {
                throw new OrderError(
                    "ì˜¬ë°”ë¥¸ ê°€ê²©ì´ ì•„ë‹™ë‹ˆë‹¤",
                    "INVALID_PRICE",
                    { price }
                );
            }
            
            // ì¬ê³  í™•ì¸ (ì‹œë®¬ë ˆì´ì…˜)
            const stock = this.checkStock(productId);
            if (stock < quantity) {
                throw new OrderError(
                    "ì¬ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤",
                    "OUT_OF_STOCK",
                    { productId, requested: quantity, available: stock }
                );
            }
            
            // ìƒí’ˆ ì¶”ê°€
            this.items.push({ productId, quantity, price });
            console.log(`âœ… ìƒí’ˆ ì¶”ê°€: ${productId} x ${quantity}`);
            
            return { success: true };
            
        } catch (error) {
            if (error instanceof OrderError) {
                console.error(`âŒ ìƒí’ˆ ì¶”ê°€ ì‹¤íŒ¨ [${error.code}]:`, error.message);
                if (Object.keys(error.details).length > 0) {
                    console.error("ìƒì„¸ ì •ë³´:", error.details);
                }
            } else {
                console.error("âŒ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜:", error);
            }
            
            return { success: false, error: error.message };
        }
    }
    
    // ì¬ê³  í™•ì¸ (ì‹œë®¬ë ˆì´ì…˜)
    checkStock(productId) {
        const stocks = {
            "P001": 10,
            "P002": 5,
            "P003": 0,
            "P004": 100
        };
        return stocks[productId] ?? 0;
    }
    
    // ì´ ê¸ˆì•¡ ê³„ì‚°
    getTotal() {
        return this.items.reduce((sum, item) => {
            return sum + (item.price * item.quantity);
        }, 0);
    }
    
    // ì£¼ë¬¸ ì™„ë£Œ
    async checkout(paymentInfo) {
        console.log("\n" + "=".repeat(50));
        console.log("ì£¼ë¬¸ ì²˜ë¦¬ ì‹œì‘");
        console.log("=".repeat(50));
        
        try {
            // 1. ì¥ë°”êµ¬ë‹ˆ ê²€ì¦
            console.log("1ï¸âƒ£ ì¥ë°”êµ¬ë‹ˆ ê²€ì¦ ì¤‘...");
            if (this.items.length === 0) {
                throw new OrderError(
                    "ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤",
                    "EMPTY_CART"
                );
            }
            console.log("âœ… ì¥ë°”êµ¬ë‹ˆ ê²€ì¦ ì™„ë£Œ");
            
            // 2. ê²°ì œ ì •ë³´ ê²€ì¦
            console.log("2ï¸âƒ£ ê²°ì œ ì •ë³´ ê²€ì¦ ì¤‘...");
            this.validatePaymentInfo(paymentInfo);
            console.log("âœ… ê²°ì œ ì •ë³´ ê²€ì¦ ì™„ë£Œ");
            
            // 3. ì¬ê³  ì¬í™•ì¸
            console.log("3ï¸âƒ£ ì¬ê³  ì¬í™•ì¸ ì¤‘...");
            for (const item of this.items) {
                const stock = this.checkStock(item.productId);
                if (stock < item.quantity) {
                    throw new OrderError(
                        "ì£¼ë¬¸ ì²˜ë¦¬ ì¤‘ ì¬ê³ ê°€ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤",
                        "STOCK_DEPLETED",
                        { productId: item.productId }
                    );
                }
            }
            console.log("âœ… ì¬ê³  í™•ì¸ ì™„ë£Œ");
            
            // 4. ê²°ì œ ì²˜ë¦¬
            console.log("4ï¸âƒ£ ê²°ì œ ì²˜ë¦¬ ì¤‘...");
            await this.processPayment(paymentInfo, this.getTotal());
            console.log("âœ… ê²°ì œ ì™„ë£Œ");
            
            // 5. ì¬ê³  ì°¨ê°
            console.log("5ï¸âƒ£ ì¬ê³  ì°¨ê° ì¤‘...");
            this.reduceStock();
            console.log("âœ… ì¬ê³  ì°¨ê° ì™„ë£Œ");
            
            // 6. ì£¼ë¬¸ í™•ì •
            this.status = "completed";
            const orderId = `ORD-${Date.now()}`;
            
            console.log("=".repeat(50));
            console.log("ğŸ‰ ì£¼ë¬¸ ì™„ë£Œ!");
            console.log(`ì£¼ë¬¸ ë²ˆí˜¸: ${orderId}`);
            console.log(`ì´ ê¸ˆì•¡: ${this.getTotal().toLocaleString()}ì›`);
            console.log("=".repeat(50));
            
            return {
                success: true,
                orderId,
                total: this.getTotal(),
                items: this.items
            };
            
        } catch (error) {
            this.status = "failed";
            
            console.log("=".repeat(50));
            console.error("âŒ ì£¼ë¬¸ ì‹¤íŒ¨");
            
            if (error instanceof OrderError) {
                console.error(`ì˜¤ë¥˜ ì½”ë“œ: ${error.code}`);
                console.error(`ë©”ì‹œì§€: ${error.message}`);
                if (Object.keys(error.details).length > 0) {
                    console.error("ìƒì„¸:", error.details);
                }
            } else {
                console.error("ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜:", error);
            }
            
            console.log("=".repeat(50));
            
            return {
                success: false,
                error: error.message,
                code: error.code
            };
            
        } finally {
            console.log("ì£¼ë¬¸ ì²˜ë¦¬ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ\n");
        }
    }
    
    // ê²°ì œ ì •ë³´ ê²€ì¦
    validatePaymentInfo(paymentInfo) {
        if (!paymentInfo) {
            throw new OrderError(
                "ê²°ì œ ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤",
                "MISSING_PAYMENT_INFO"
            );
        }
        
        const { cardNumber, cvv, expiry } = paymentInfo;
        
        if (!cardNumber || cardNumber.length !== 16) {
            throw new OrderError(
                "ì˜¬ë°”ë¥¸ ì¹´ë“œ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”",
                "INVALID_CARD_NUMBER"
            );
        }
        
        if (!cvv || cvv.length !== 3) {
            throw new OrderError(
                "ì˜¬ë°”ë¥¸ CVVë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”",
                "INVALID_CVV"
            );
        }
        
        if (!expiry) {
            throw new OrderError(
                "ì¹´ë“œ ë§Œë£Œì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”",
                "MISSING_EXPIRY"
            );
        }
        
        return true;
    }
    
    // ê²°ì œ ì²˜ë¦¬ (ì‹œë®¬ë ˆì´ì…˜)
    async processPayment(paymentInfo, amount) {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                // 10% í™•ë¥ ë¡œ ê²°ì œ ì‹¤íŒ¨ ì‹œë®¬ë ˆì´ì…˜
                if (Math.random() < 0.1) {
                    reject(new OrderError(
                        "ê²°ì œ ì²˜ë¦¬ ì‹¤íŒ¨",
                        "PAYMENT_FAILED",
                        { amount }
                    ));
                } else {
                    resolve();
                }
            }, 1000);
        });
    }
    
    // ì¬ê³  ì°¨ê° (ì‹œë®¬ë ˆì´ì…˜)
    reduceStock() {
        this.items.forEach(item => {
            console.log(`  ğŸ“¦ ${item.productId} ì¬ê³  ì°¨ê°: ${item.quantity}ê°œ`);
        });
    }
}

// í…ŒìŠ¤íŠ¸
async function testOrderSystem() {
    const order = new Order();
    
    // ìƒí’ˆ ì¶”ê°€
    order.addItem("P001", 2, 10000);
    order.addItem("P002", 1, 20000);
    order.addItem("P003", 1, 15000); // ì¬ê³  ì—†ìŒ
    order.addItem("P004", 3, 5000);
    
    // ì£¼ë¬¸ ì™„ë£Œ ì‹œë„
    const result = await order.checkout({
        cardNumber: "1234567812345678",
        cvv: "123",
        expiry: "12/25"
    });
    
    console.log("ìµœì¢… ê²°ê³¼:", result);
}

testOrderSystem();
```

---

## 9. ë§ˆë¬´ë¦¬ ğŸ‰

### ğŸŒŸ í•µì‹¬ ì •ë¦¬

|êµ¬ë¬¸|ì—­í• |ì‚¬ìš© ì‹œì |
|---|---|---|
|**try**|ì˜¤ë¥˜ ê°€ëŠ¥ì„± ìˆëŠ” ì½”ë“œ ì‹¤í–‰|ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥ ì˜ì—­|
|**catch**|ì˜¤ë¥˜ ë°œìƒ ì‹œ ì²˜ë¦¬|ì˜ˆì™¸ ì²˜ë¦¬ ë¡œì§|
|**finally**|í•­ìƒ ì‹¤í–‰|ë¦¬ì†ŒìŠ¤ ì •ë¦¬, ë¡œê¹…|
|**throw**|ì˜ˆì™¸ ë°œìƒ|ì‚¬ìš©ì ì •ì˜ ì˜¤ë¥˜|

### ğŸš€ ì˜ˆì™¸ ì²˜ë¦¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### âœ… í•´ì•¼ í•  ê²ƒ

1. **êµ¬ì²´ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€ ì‘ì„±**
    
    ```javascript
    throw new Error(`ì‚¬ìš©ì ID ${userId}ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`);
    ```
    
2. **ì ì ˆí•œ ì—ëŸ¬ íƒ€ì… ì‚¬ìš©**
    
    ```javascript
    class ValidationError extends Error { }
    class NetworkError extends Error { }
    ```
    
3. **finallyë¡œ ë¦¬ì†ŒìŠ¤ ì •ë¦¬**
    
    ```javascript
    finally {
        connection.close();
        clearTimeout(timer);
    }
    ```
    
4. **ì—ëŸ¬ ë¡œê¹…**
    
    ```javascript
    console.error({
        message: error.message,
        stack: error.stack,
        context: { userId, action }
    });
    ```
    
5. **ì¬ì‹œë„ ë¡œì§ êµ¬í˜„**
    
    ```javascript
    async function fetchWithRetry(url, maxRetries = 3) {
        // ì¬ì‹œë„ ë¡œì§
    }
    ```
    

#### âŒ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ

1. **ë¹ˆ catch ë¸”ë¡**
    
    ```javascript
    // âŒ ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”!
    try {
        riskyOperation();
    } catch (error) {
        // ì•„ë¬´ê²ƒë„ ì•ˆ í•¨
    }
    ```
    
2. **ëª¨ë“  ì—ëŸ¬ë¥¼ ë˜‘ê°™ì´ ì²˜ë¦¬**
    
    ```javascript
    // âŒ ë‚˜ìœ ì˜ˆ
    catch (error) {
        alert("ì˜¤ë¥˜ ë°œìƒ");
    }
    ```
    
3. **ê³¼ë„í•œ try-catch**
    
    ```javascript
    // âŒ ë¶ˆí•„ìš”í•œ ì¤‘ì²©
    try {
        try {
            try {
                // ...
            } catch (e3) { }
        } catch (e2) { }
    } catch (e1) { }
    ```
    

### ğŸ’¡ ì‹¤ë¬´ ì ìš© ê°€ì´ë“œ

#### 1ï¸âƒ£ API í˜¸ì¶œ íŒ¨í„´

```javascript
async function apiCall(endpoint, options = {}) {
    try {
        const response = await fetch(endpoint, options);
        
        if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
        
        return await response.json();
    } catch (error) {
        console.error(`API í˜¸ì¶œ ì‹¤íŒ¨ [${endpoint}]:`, error);
        throw error;
    }
}
```

#### 2ï¸âƒ£ í¼ ìœ íš¨ì„± ê²€ì¦ íŒ¨í„´

```javascript
function validateForm(formData) {
    const errors = {};
    
    try {
        validateEmail(formData.email);
    } catch (error) {
        errors.email = error.message;
    }
    
    try {
        validatePassword(formData.password);
    } catch (error) {
        errors.password = error.message;
    }
    
    return {
        isValid: Object.keys(errors).length === 0,
        errors
    };
}
```

#### 3ï¸âƒ£ ë¹„ë™ê¸° ì‘ì—… íŒ¨í„´

```javascript
async function performAsyncTask() {
    let resource = null;
    
    try {
        resource = await acquireResource();
        await processResource(resource);
    } catch (error) {
        await handleError(error);
    } finally {
        if (resource) {
            await releaseResource(resource);
        }
    }
}
```

