
### 1. CSS-IN-CSS

- CSS-IN-CSS는 전통적인 방식의 CSS 스타일링 방법으로, `.css`, `.scss`, `.less` 등의 파일을 별도로 작성하여 사용하는 방식이다.
- 전통적인 CSS 방식을 가리키는 말로, 보통은 별도의 CSS 파일에 스타일을 작성하고 이를 HTML에 연결(link)하여 사용하는 방식을 말한다.

#### ✅ 특징

- **전통적인 방식**: CSS 파일을 별도로 생성하여 `link` 또는 `import`를 통해 적용
- **전역 스타일**: 기본적으로 전역 스코프를 가진다. 하지만, **CSS 모듈(CSS Modules)** 을 사용하면 자동으로 **고유한 클래스 이름이 생성되어 지역 스코프**를 가지게 된다.
- **정적 스타일**: 런타임이 아닌 컴파일 타임에 스타일이 결정됨
- **브라우저 캐싱 활용 가능**: CSS 파일을 캐싱하여 성능 향상

#### ✅ 예제

> `.scss`파일
```scss
/* styles.scss */
.button {
  background-color: blue;
  color: white;
  padding: 10px;
}
```

> `html` 파일
```html
<!-- index.html -->
<link rel="stylesheet" href="styles.css">
<button class="button">클릭</button>
```

---
### 2. CSS-IN-JS

- CSS-IN-JS는 JavaScript 코드 내에서 CSS를 작성하고 관리하는 방식으로, React, Vue 등의 프레임워크에서 주로 사용된다.
- CSS-in-JS 라이브러리인 **Styled Components**가 제일 대표적이다.
	- Styled Components는 CSS-in-JS 스타일링을 위한 프레임워크이다. 
	- Styled Components는 스타일링을 위한 코드 사용량이 줄어들고 CSS 문법에 친화적이다.
	- 자바스크립트의 태그가 지정된 템플릿 리터럴과 CSS의 기능을 사용하여 구성 요소에 반응하는 스타일을 제공한다.
	- 장점
		- CSS 모델을 문서 레벨이 아닌 컴포넌트 레벨로 추상화하는 모듈성이 존재
		- CSS-in-JS는 JavaScript 환경을 최대한 활용 
		- 자바스크립트와 CSS 사이의 상수와 함수를 공유 
		- 현재 사용 중인 스타일만 DOM에 포함
		- 짧은 길이의 유니크 한 클래스를 자동으로 생성하는 코드 경량화 

	- 단점
		- 러닝 커브(Learning Curve)
		- 새로운 의존성 발생
		- 별도의 라이브러리 설치에 따른 번들 크기 증대 
		- CSS-in-CSS에 비해 느린 속도

#### ✅ 특징

- **컴포넌트 기반 스타일링**: 스타일이 특정 컴포넌트 내부에 종속됨
- **동적 스타일링 가능**: JavaScript 변수를 활용하여 동적으로 스타일을 변경할 수 있음
- **Scoped 스타일**: 클래스명이 자동 생성되어 전역 충돌 방지
- **CSS 파일이 필요 없음**: JavaScript 내에서 직접 스타일 관리

#### ✅ 예제

> `jsx`파일
```jsx
import styled from 'styled-components';

const Button = styled.button`
  background-color: blue;
  color: white;
  padding: 10px;
`;

function App() {
  return <Button>클릭</Button>;
}

export default App;

```

---
### 3. 비교

| 비교 항목   | CSS-IN-CSS                         | CSS-IN-JS                  |
| ------- | ---------------------------------- | -------------------------- |
| 스타일 범위  | 기본적으로는 전역, CSS Module 사용 시 제한된 스코프 | 컴포넌트 단위 (Scoped)           |
| 동적 스타일링 | 불가능                                | 가능 (Props, State 활용)       |
| 유지보수성   | 상대적으로 낮음                           | 높음 (컴포넌트 기반)               |
| 성능      | 브라우저 캐싱 활용 가능                      | 런타임 스타일 생성으로 성능 부담         |
| 사용 사례   | 일반 웹사이트, 전통적인 프로젝트                 | React, Vue 등 컴포넌트 기반 프레임워크 |

- 추가적으로, CSS-IN-CSS 방식은 자바스크립트 해석 과정이 따로 없기 때문에 CSS-IN-JS 방식보다 페이지가 전환 속도가 빠르다는 특징이 있다.
- CSS-IN-CSS는 전통적인 방식으로 여전히 많이 사용되지만, CSS-IN-JS는 컴포넌트 기반 개발이 증가하면서 점점 더 인기를 얻고 있다. 프로젝트의 특성에 따라 적절한 방식을 선택하는 것이 중요하다.

---
### 4. 어떤 페이지에서 뭘 써야 이득일까?

스타일링 방식을 선택할 때는 **페이지의 특성과 렌더링 빈도**를 고려해야 한다.

#### ✅ CSS-in-CSS를 쓰면 좋은 경우

- **정적인 스타일이 많은 페이지** (예: 블로그, 문서, 관리자 페이지)
    - 스타일이 자주 변경되지 않으면, CSS-in-CSS가 성능적으로 유리하다.
    - 왜냐하면, CSSOM이 한 번 생성되면 재사용되므로 **불필요한 스타일 재생성 비용이 줄어들기 때문**이다.
	    - CSSOM은 CRP(웹 브라우저가 원본 HTML문서를 읽어들인 후 스타일을 입히고 대화형 페이지로 만들어 뷰포트에 표시하기까지의 과정) 과정 과 관련이 있다.
	    - CSSOM 트리는 브라우저의 렌더링 엔진이 `<style>`태그를 만나면 HTML 파싱을 멈추고, CSS파싱 작업이 시작되면서 생성된다.
	    - CSSOM은 즉, HTML 요소들과 연관된 스타일 정보의 구조화된 표현을 제공한다고 볼 수 있다.

- 그래서 아래 상황일 때 유리하다.
	1. **대량의 스타일을 미리 정의해야 하는 경우** (예: 디자인 시스템, 테마)
	    - 미리 정의된 스타일을 CSS 파일로 관리하면, **브라우저가 효율적으로 캐싱**할 수 있음.
	    
	2. **SEO가 중요한 페이지** (예: 랜딩 페이지, 검색 엔진 최적화 페이지)
	    - CSS가 별도로 로드되기 때문에 **서버 사이드 렌더링(SSR)과 궁합이 좋음**.

➡ **렌더링 시 CSS가 다시 생성되지 않으므로 성능이 향상됨**


#### ✅ CSS-in-JS를 쓰면 좋은 경우

- **스타일이 동적으로 자주 변경되는 경우** (예: 테마 변경, 애니메이션)
    - `props`나 상태(state)에 따라 스타일이 바뀌어야 한다면 CSS-in-JS가 더 효율적입니다.
    - JavaScript로 스타일을 직접 제어할 수 있어, 동적인 변화가 많은 UI에 적합.

- 그래서 아래 상황일 때 유리하다.
	1. **컴포넌트 기반 개발이 중요한 경우** (예: 대규모 React/Vue 프로젝트)
	    - CSS가 컴포넌트 내부에 포함되므로 **모듈화와 유지보수가 쉬움**.
	    
	2. **다크 모드, 사용자 설정 스타일 적용이 필요한 경우**
	    - 유저 설정 값에 따라 스타일이 즉시 반영될 때 유용함.

➡ **`primary` 값(`props`로 전달되는 값) 에 따라 동적으로 스타일이 변경됨**

#### 🏆 **정리

|조건|CSS-in-CSS|CSS-in-JS|
|---|---|---|
|**정적 스타일**|✅ 유리함|❌ 불필요한 동적 처리|
|**동적 스타일 (props/state 변경)**|❌ 적용 어려움|✅ 유리함|
|**성능 (렌더링 최적화)**|✅ 캐싱 가능|❌ JS 실행 비용 추가|
|**SEO 최적화**|✅ SSR 최적화|❌ 스타일 생성 지연 가능|
|**컴포넌트 기반 개발**|❌ 네이밍 충돌 가능|✅ 스타일이 컴포넌트와 함께 유지|

#### 📌 **결론**
- **정적인 스타일이 많은 경우 → CSS-in-CSS** (성능 최적화, 캐싱, SEO에 유리)
- **스타일이 자주 바뀌는 경우 → CSS-in-JS** (컴포넌트 스타일링, 다크 모드, 상태 기반 UI에 유리)
- **둘을 혼용 가능!** CSS-in-CSS로 기본 스타일을 적용하고, **특정 컴포넌트에서만 CSS-in-JS 사용**하는 것도 좋은 방법. 🚀