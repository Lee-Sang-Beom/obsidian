
## 1. 자바스크립트와 단일 스레드(Thread)

- 자바스크립트는 싱글 스레드 언어로, 한 번에 하나의 작업만 처리할 수 있다.
	- 그렇기에, 자바스크립트 엔진은 함수 호출 시 실행 컨텍스트가 쌓이는 공간인 콜스택을 하나만 보유하고 있습니다.

- 하지만, 자바스크립트 사용 시, 마치 **멀티 스레드**처럼 동시에 여러 Task를 처리하는 느낌을 받을 때가 많은데, 이는 자바스크립트가 비동기로 작동하는 것이 이유이다.
	- 자바스크립트 자체는 비동기 동작을 지원하지 않으나, 비동기로 동작할 수 있도록 지원을 해주는 곳이 있다.
	- 그 핵심적인 요소가 **브라우저**이다.

---
## 2. 브라우저의 내부 구조

> [이미지 : 브라우저 내부 구조 (출처 : How JavaScript works: an overview of the engine, the runtime, and the call stack)](https://medium.com/sessionstack-blog/how-does-javascript-actually-work-part-1-b0bacc073cf)
![[브라우저 내부 구조.png]]
### 1. 자바스크립트 엔진
#### 1-1. 메모리 힙(Memory Heap)
```js
// 메모리 힙에 저장되는 객체
const obj = { name: "Alice", age: 25 };

// 메모리 힙에 저장되는 배열
const arr = [1, 2, 3, 4, 5];

// 함수도 메모리 힙에 저장
function greet() {
  console.log("Hello!");
}
```
##### ※ 정의
- 자바스크립트 엔진이 동적으로 생성한 객체나 데이터를 저장하고 관리하는 메모리 공간이다.
##### ※ 역할
1. 동적 메모리 할당
	- 객체, 배열, 함수 등 **크기가 가변적인 데이터**를 저장하기 위해 사용된다.
	- 예: 객체 생성, 클로저 등이 필요할 때 메모리 힙을 사용한다.

2. 가비지 컬렉션
	- 메모리 힙에 할당된 데이터 중 더 이상 사용되지 않는 데이터를 정리하여 메모리 누수를 방지한다.

#### 1-2. 콜  스택(Call Stack)
```js
function first() {
  console.log("First function");
  second();
}

function second() {
  console.log("Second function");
  third();
}

function third() {
  console.log("Third function");
}

first();

// first() -> second() -> third() 순 콜스택에 추가
// third() -> second() -> first() 순 콜스택에서 제거
```
##### ※ 정의
- **콜 스택**은 자바스크립트 엔진이 함수 호출을 관리하는 메모리 구조이다.
- 스택(stack) 자료구조를 사용하며, **LIFO(Last In, First Out)** 방식으로 동작한다.
##### ※ 역할
1. 함수 호출 관리
    - 실행 중인 함수와 호출된 함수 정보를 추적한다.

2.  실행 컨텍스트 저장
    - 함수 실행 시 필요한 정보(변수, 객체, this 등)를 저장하고 관리한다.

3. 실행 순서 유지
    - 함수 호출이 끝나면 스택에서 제거하며, 이전 함수로 돌아간다.


